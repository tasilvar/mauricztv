function preg_match(e,t){return new RegExp(e).test(t)}function bpmj_eddcm_enable_datepickers(){jQuery.fn.datepicker&&jQuery(".wp-datepicker-field:not(.wp-datepicker-enabled)").datepicker({dateFormat:"yy-mm-dd"}).addClass("wp-datepicker-enabled")}function showLoader(){var e=document.createElement("div");e.id="wpi-loader",e.innerHTML='<div class="loader-ring"><div></div><div></div><div></div><div></div></div>',document.body.prepend(e)}function hideLoader(){var e=document.getElementById("div");element.parentNode.removeChild(e)}!function(e,t){var n;"function"==typeof define&&define.amd?define(["exports","jquery"],t):"undefined"!=typeof exports?(n=require("jquery"),t(exports,n)):t(e,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,d){function t(a,t){function o(e,t,n){return e[t]=n,e}function n(e,t){for(var n,a,i=e.match(c.key);void 0!==(n=i.pop());)c.push.test(n)?(a=e.replace(/\[\]$/,""),void 0===s[a]&&(s[a]=0),t=o([],s[a]++,t)):c.fixed.test(n)?t=o([],n,t):c.named.test(n)&&(t=o({},n,t));return t}function e(){return i}var i={},s={};this.addPair=function(e){return c.validate.test(e.name)&&(e=n(e.name,"checkbox"===d('[name="'+(e=e).name+'"]',t).attr("type")&&"on"===e.value||e.value),i=a.extend(!0,i,e)),this},this.addPairs=function(e){if(!a.isArray(e))throw new Error("formSerializer.addPairs expects an Array");for(var t=0,n=e.length;t<n;t++)this.addPair(e[t]);return this},this.serialize=e,this.serializeJSON=function(){return JSON.stringify(i)}}var c={validate:/^[a-z_][a-z0-9_]*(?:\[(?:\d*|[a-z0-9_]+)\])*$/i,key:/[a-z0-9_]+|(?=\[\])/gi,push:/^$/,fixed:/^\d+$/,named:/^[a-z0-9_]+$/i};return t.patterns=c,t.serializeObject=function(){return new t(d,this).addPairs(this.serializeArray()).serialize()},t.serializeJSON=function(){return new t(d,this).addPairs(this.serializeArray()).serializeJSON()},void 0!==d.fn&&(d.fn.serializeObject=t.serializeObject,d.fn.serializeJSON=t.serializeJSON),e.FormSerializer=t}),jQuery.md5=function(e){function d(e,t){return e<<t|e>>>32-t}function c(e,t){var n=2147483648&e,a=2147483648&t,i=1073741824&e,o=1073741824&t,e=(1073741823&e)+(1073741823&t);return i&o?2147483648^e^n^a:i|o?1073741824&e?3221225472^e^n^a:1073741824^e^n^a:e^n^a}function t(e,t,n,a,i,o,s){return e=c(e,c(c(t&n|~t&a,i),s)),c(d(e,o),t)}function n(e,t,n,a,i,o,s){return e=c(e,c(c(t&a|n&~a,i),s)),c(d(e,o),t)}function a(e,t,n,a,i,o,s){return e=c(e,c(c(t^n^a,i),s)),c(d(e,o),t)}function i(e,t,n,a,i,o,s){return e=c(e,c(c(n^(t|~a),i),s)),c(d(e,o),t)}function o(e){for(var t="",n="",a=0;a<=3;a++)t+=(n="0"+(e>>>8*a&255).toString(16)).substr(n.length-2,2);return t}Array();for(var s,r,l,u,p=function(e){for(var t,n=e.length,a=16*(1+((a=n+8)-a%64)/64),i=Array(a-1),o=0,s=0;s<n;)o=s%4*8,i[t=(s-s%4)/4]=i[t]|e.charCodeAt(s)<<o,s++;return i[t=(s-s%4)/4]=i[t]|128<<(o=s%4*8),i[a-2]=n<<3,i[a-1]=n>>>29,i}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t+=String.fromCharCode(a):t=127<a&&a<2048?(t+=String.fromCharCode(a>>6|192))+String.fromCharCode(63&a|128):(t=(t+=String.fromCharCode(a>>12|224))+String.fromCharCode(a>>6&63|128))+String.fromCharCode(63&a|128)}return t}(e)),m=1732584193,_=4023233417,h=2562383102,f=271733878,g=0;g<p.length;g+=16)m=t(s=m,r=_,l=h,u=f,p[g+0],7,3614090360),f=t(f,m,_,h,p[g+1],12,3905402710),h=t(h,f,m,_,p[g+2],17,606105819),_=t(_,h,f,m,p[g+3],22,3250441966),m=t(m,_,h,f,p[g+4],7,4118548399),f=t(f,m,_,h,p[g+5],12,1200080426),h=t(h,f,m,_,p[g+6],17,2821735955),_=t(_,h,f,m,p[g+7],22,4249261313),m=t(m,_,h,f,p[g+8],7,1770035416),f=t(f,m,_,h,p[g+9],12,2336552879),h=t(h,f,m,_,p[g+10],17,4294925233),_=t(_,h,f,m,p[g+11],22,2304563134),m=t(m,_,h,f,p[g+12],7,1804603682),f=t(f,m,_,h,p[g+13],12,4254626195),h=t(h,f,m,_,p[g+14],17,2792965006),m=n(m,_=t(_,h,f,m,p[g+15],22,1236535329),h,f,p[g+1],5,4129170786),f=n(f,m,_,h,p[g+6],9,3225465664),h=n(h,f,m,_,p[g+11],14,643717713),_=n(_,h,f,m,p[g+0],20,3921069994),m=n(m,_,h,f,p[g+5],5,3593408605),f=n(f,m,_,h,p[g+10],9,38016083),h=n(h,f,m,_,p[g+15],14,3634488961),_=n(_,h,f,m,p[g+4],20,3889429448),m=n(m,_,h,f,p[g+9],5,568446438),f=n(f,m,_,h,p[g+14],9,3275163606),h=n(h,f,m,_,p[g+3],14,4107603335),_=n(_,h,f,m,p[g+8],20,1163531501),m=n(m,_,h,f,p[g+13],5,2850285829),f=n(f,m,_,h,p[g+2],9,4243563512),h=n(h,f,m,_,p[g+7],14,1735328473),m=a(m,_=n(_,h,f,m,p[g+12],20,2368359562),h,f,p[g+5],4,4294588738),f=a(f,m,_,h,p[g+8],11,2272392833),h=a(h,f,m,_,p[g+11],16,1839030562),_=a(_,h,f,m,p[g+14],23,4259657740),m=a(m,_,h,f,p[g+1],4,2763975236),f=a(f,m,_,h,p[g+4],11,1272893353),h=a(h,f,m,_,p[g+7],16,4139469664),_=a(_,h,f,m,p[g+10],23,3200236656),m=a(m,_,h,f,p[g+13],4,681279174),f=a(f,m,_,h,p[g+0],11,3936430074),h=a(h,f,m,_,p[g+3],16,3572445317),_=a(_,h,f,m,p[g+6],23,76029189),m=a(m,_,h,f,p[g+9],4,3654602809),f=a(f,m,_,h,p[g+12],11,3873151461),h=a(h,f,m,_,p[g+15],16,530742520),m=i(m,_=a(_,h,f,m,p[g+2],23,3299628645),h,f,p[g+0],6,4096336452),f=i(f,m,_,h,p[g+7],10,1126891415),h=i(h,f,m,_,p[g+14],15,2878612391),_=i(_,h,f,m,p[g+5],21,4237533241),m=i(m,_,h,f,p[g+12],6,1700485571),f=i(f,m,_,h,p[g+3],10,2399980690),h=i(h,f,m,_,p[g+10],15,4293915773),_=i(_,h,f,m,p[g+1],21,2240044497),m=i(m,_,h,f,p[g+8],6,1873313359),f=i(f,m,_,h,p[g+15],10,4264355552),h=i(h,f,m,_,p[g+6],15,2734768916),_=i(_,h,f,m,p[g+13],21,1309151649),m=i(m,_,h,f,p[g+4],6,4149444226),f=i(f,m,_,h,p[g+11],10,3174756917),h=i(h,f,m,_,p[g+2],15,718787259),_=i(_,h,f,m,p[g+9],21,3951481745),m=c(m,s),_=c(_,r),h=c(h,l),f=c(f,u);return(o(m)+o(_)+o(h)+o(f)).toLowerCase()},function(e){var t,n;"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():(t=window.Cookies,(n=window.Cookies=e()).noConflict=function(){return window.Cookies=t,n})}(function(){function p(){for(var e=0,t={};e<arguments.length;e++){var n,a=arguments[e];for(n in a)t[n]=a[n]}return t}return function e(l){function u(e,t,n){var a,i;if("undefined"!=typeof document){if(1<arguments.length){"number"==typeof(n=p({path:"/"},u.defaults,n)).expires&&((i=new Date).setMilliseconds(i.getMilliseconds()+864e5*n.expires),n.expires=i);try{a=JSON.stringify(t),/^[\{\[]/.test(a)&&(t=a)}catch(e){}return t=l.write?l.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[e,"=",t,n.expires&&"; expires="+n.expires.toUTCString(),n.path&&"; path="+n.path,n.domain&&"; domain="+n.domain,n.secure?"; secure":""].join("")}e||(a={});for(var o=document.cookie?document.cookie.split("; "):[],s=/(%[0-9A-Z]{2})+/g,d=0;d<o.length;d++){var c=o[d].split("="),r=c[0].replace(s,decodeURIComponent);'"'===(c=c.slice(1).join("=")).charAt(0)&&(c=c.slice(1,-1));try{if(c=l.read?l.read(c,r):l(c,r)||c.replace(s,decodeURIComponent),this.json)try{c=JSON.parse(c)}catch(e){}if(e===r){a=c;break}e||(a[r]=c)}catch(e){}}return a}}return(u.set=u).get=function(e){return u(e)},u.getJSON=function(){return u.apply({json:!0},[].slice.call(arguments))},u.defaults={},u.remove=function(e,t){u(e,"",p(t,{expires:-1}))},u.withConverter=e,u}(function(){})}),function(s){var o=new Array,d=new Array,c=(s.fn.doAutosize=function(e){var t=s(this).data("minwidth"),n=s(this).data("maxwidth"),a="",i=s(this),o=s("#"+s(this).data("tester_id"));""!==(a=i.val())&&(a=a.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;"),o.html(a),(o=(a=o.width())+e.comfortZone>=t?a+e.comfortZone:t)<i.width()&&t<=o||t<o&&o<n)&&i.width(o)},s.fn.resetAutosize=function(e){var t=s(this).data("minwidth")||e.minInputWidth||s(this).width(),e=s(this).data("maxwidth")||e.maxInputWidth||s(this).closest(".tagsinput").width()-e.inputPadding,n=s(this),a=s("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:n.css("fontSize"),fontFamily:n.css("fontFamily"),fontWeight:n.css("fontWeight"),letterSpacing:n.css("letterSpacing"),whiteSpace:"nowrap"}),i=s(this).attr("id")+"_autosize_tester";0<!s("#"+i).length&&(a.attr("id",i),a.appendTo("body")),n.data("minwidth",t),n.data("maxwidth",e),n.data("tester_id",i),n.css("width",t)},s.fn.addTag=function(a,i){return i=jQuery.extend({focus:!1,callback:!0},i),this.each(function(){var e,t=s(this).attr("id"),n=s(this).val().split(o[t]);""==n[0]&&(n=new Array),a=jQuery.trim(a),i.unique?1==(e=s(this).tagExist(a))&&s("#"+t+"_tag").addClass("not_valid"):e=!1,""!=a&&1!=e&&(s("<span>").addClass("tag").append(s("<span>").text(a).append("&nbsp;&nbsp;"),s("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return s("#"+t).removeTag(escape(a))})).insertBefore("#"+t+"_addTag"),n.push(a),s("#"+t+"_tag").val(""),i.focus?s("#"+t+"_tag").focus():s("#"+t+"_tag").blur(),s.fn.tagsInput.updateTagsField(this,n),i.callback&&d[t]&&d[t].onAddTag&&d[t].onAddTag.call(this,a),d[t])&&d[t].onChange&&(e=n.length,d[t].onChange.call(this,s(this),n[e-1]))}),!1},s.fn.removeTag=function(n){return n=unescape(n),this.each(function(){var e=s(this).attr("id"),t=s(this).val().split(o[e]);for(s("#"+e+"_tagsinput .tag").remove(),str="",i=0;i<t.length;i++)t[i]!=n&&(str=str+o[e]+t[i]);s.fn.tagsInput.importTags(this,str),d[e]&&d[e].onRemoveTag&&d[e].onRemoveTag.call(this,n)}),!1},s.fn.tagExist=function(e){var t=s(this).attr("id"),t=s(this).val().split(o[t]);return 0<=jQuery.inArray(e,t)},s.fn.importTags=function(e){var t=s(this).attr("id");s("#"+t+"_tagsinput .tag").remove(),s.fn.tagsInput.importTags(this,e)},s.fn.tagsInput=function(e){var i=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},e),n=0;return this.each(function(){if(void 0===s(this).attr("data-tagsinput-init")){s(this).attr("data-tagsinput-init",!0),i.hide&&s(this).hide();var a=s(this).attr("id"),e=(a&&!o[s(this).attr("id")]||(a=s(this).attr("id","tags"+(new Date).getTime()+n++).attr("id")),jQuery.extend({pid:a,real_input:"#"+a,holder:"#"+a+"_tagsinput",input_wrapper:"#"+a+"_addTag",fake_input:"#"+a+"_tag"},i)),t=(o[a]=e.delimiter,(i.onAddTag||i.onRemoveTag||i.onChange)&&(d[a]=new Array,d[a].onAddTag=i.onAddTag,d[a].onRemoveTag=i.onRemoveTag,d[a].onChange=i.onChange),'<div id="'+a+'_tagsinput" class="tagsinput"><div id="'+a+'_addTag">');if(i.interactive&&(t=t+'<input id="'+a+'_tag" value="" data-default="'+i.defaultText+'" />'),s(t+='</div><div class="tags_clear"></div></div>').insertAfter(this),s(e.holder).css("width",i.width),s(e.holder).css("min-height",i.height),s(e.holder).css("height",i.height),""!=s(e.real_input).val()&&s.fn.tagsInput.importTags(s(e.real_input),s(e.real_input).val()),i.interactive){if(s(e.fake_input).val(s(e.fake_input).attr("data-default")),s(e.fake_input).css("color",i.placeholderColor),s(e.fake_input).resetAutosize(i),s(e.holder).bind("click",e,function(e){s(e.data.fake_input).focus()}),s(e.fake_input).bind("focus",e,function(e){s(e.data.fake_input).val()==s(e.data.fake_input).attr("data-default")&&s(e.data.fake_input).val(""),s(e.data.fake_input).css("color","#000000")}),null!=i.autocomplete_url){for(attrname in autocomplete_options={source:i.autocomplete_url},i.autocomplete)autocomplete_options[attrname]=i.autocomplete[attrname];void 0!==jQuery.Autocompleter?(s(e.fake_input).autocomplete(i.autocomplete_url,i.autocomplete),s(e.fake_input).bind("result",e,function(e,t,n){t&&s("#"+a).addTag(t[0]+"",{focus:!0,unique:i.unique})})):void 0!==jQuery.ui.autocomplete&&(s(e.fake_input).autocomplete(autocomplete_options),s(e.fake_input).bind("autocompleteselect",e,function(e,t){return s(e.data.real_input).addTag(t.item.value,{focus:!0,unique:i.unique}),!1}))}else s(e.fake_input).bind("blur",e,function(e){var t=s(this).attr("data-default");return""!=s(e.data.fake_input).val()&&s(e.data.fake_input).val()!=t?e.data.minChars<=s(e.data.fake_input).val().length&&(!e.data.maxChars||e.data.maxChars>=s(e.data.fake_input).val().length)&&s(e.data.real_input).addTag(s(e.data.fake_input).val(),{focus:!0,unique:i.unique}):(s(e.data.fake_input).val(s(e.data.fake_input).attr("data-default")),s(e.data.fake_input).css("color",i.placeholderColor)),!1});s(e.fake_input).bind("keypress",e,function(e){return c(e)?(e.preventDefault(),e.data.minChars<=s(e.data.fake_input).val().length&&(!e.data.maxChars||e.data.maxChars>=s(e.data.fake_input).val().length)&&s(e.data.real_input).addTag(s(e.data.fake_input).val(),{focus:!0,unique:i.unique}),s(e.data.fake_input).resetAutosize(i),!1):void(e.data.autosize&&s(e.data.fake_input).doAutosize(i))}),e.removeWithBackspace&&s(e.fake_input).bind("keydown",function(e){var t;8==e.keyCode&&""==s(this).val()&&(e.preventDefault(),e=s(this).closest(".tagsinput").find(".tag:last").text(),t=s(this).attr("id").replace(/_tag$/,""),e=e.replace(/[\s]+x$/,""),s("#"+t).removeTag(escape(e)),s(this).trigger("focus"))}),s(e.fake_input).blur(),e.unique&&s(e.fake_input).keydown(function(e){8!=e.keyCode&&!String.fromCharCode(e.which).match(/\w+|[áéíóúÁÉÍÓÚñÑ,/]+/)||s(this).removeClass("not_valid")})}}}),this},s.fn.tagsInput.updateTagsField=function(e,t){var n=s(e).attr("id");s(e).val(t.join(o[n]))},s.fn.tagsInput.importTags=function(e,t){s(e).val("");var n=s(e).attr("id"),a=t.split(o[n]);for(i=0;i<a.length;i++)s(e).addTag(a[i],{focus:!1,callback:!1});d[n]&&d[n].onChange&&d[n].onChange.call(e,e,a[i])},function(n){var a=!1;return 13==n.which||("string"==typeof n.data.delimiter?n.which==n.data.delimiter.charCodeAt(0)&&(a=!0):s.each(n.data.delimiter,function(e,t){n.which==t.charCodeAt(0)&&(a=!0)}),a)})}(jQuery),function(i){"use strict";function o(e,t){this.$element=i(e),this.options=i.extend({},o.DEFAULTS,t),this.$trigger=i('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()}function n(e){e=e.attr("data-target")||(e=e.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return i(e)}function s(a){return this.each(function(){var e=i(this),t=e.data("bs.collapse"),n=i.extend({},o.DEFAULTS,e.data(),"object"==typeof a&&a);!t&&n.toggle&&/show|hide/.test(a)&&(n.toggle=!1),t||e.data("bs.collapse",t=new o(this,n)),"string"==typeof a&&t[a]()})}o.VERSION="3.3.6",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(a=e.data("bs.collapse"))&&a.transitioning)){var t=i.Event("show.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){e&&e.length&&(s.call(e,"hide"),a||e.data("bs.collapse",null));var n=this.dimension(),t=(this.$element.removeClass("collapse").addClass("collapsing")[n](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,function(){this.$element.removeClass("collapsing").addClass("collapse in")[n](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")});if(!i.support.transition)return t.call(this);var a=i.camelCase(["scroll",n].join("-"));this.$element.one("bsTransitionEnd",i.proxy(t,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[n](this.$element[0][a])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=i.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var e=this.dimension(),t=(this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")});if(!i.support.transition)return t.call(this);this.$element[e](0).one("bsTransitionEnd",i.proxy(t,this)).emulateTransitionEnd(o.TRANSITION_DURATION)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return i(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(i.proxy(function(e,t){t=i(t);this.addAriaAndCollapsedClass(n(t),t)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var e=i.fn.collapse;i.fn.collapse=s,i.fn.collapse.Constructor=o,i.fn.collapse.noConflict=function(){return i.fn.collapse=e,this},i(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var t=i(this),e=(t.attr("data-target")||e.preventDefault(),n(t)),t=e.data("bs.collapse")?"toggle":t.data();s.call(e,t)})}(jQuery),function(a){"use strict";a.fn.emulateTransitionEnd=function(e){var t=!1,n=this;a(this).one("bsTransitionEnd",function(){t=!0});return setTimeout(function(){t||a(n).trigger(a.support.transition.end)},e),this},a(function(){a.support.transition=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return{end:n[e]};return!1}(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(e){if(a(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),jQuery.fn.getFormData=function(){var e={};return this.find("[name]").each(function(){"checkbox"===this.type?e[this.name]=this.checked?"on":"off":e[this.name]=this.value}),e},jQuery(document).ready(function(t){"use strict";window.snackbar={htmlElement:null,show:function(e,t){void 0===t&&(t="default"),this.createHtmlElement(),this.htmlElement.text(e),this.htmlElement.addClass("type-"+t),this.htmlElement.addClass("show");var n=this;setTimeout(function(){n.htmlElement.removeClass("show")},3500)},createHtmlElement:function(){var e;null==this.htmlElement&&((e=document.createElement("div")).classList.add("wpi-snackbar"),t("body").append(e),this.htmlElement=t(e))},maybeShowOnInit:function(){if("undefined"==typeof snackbarDataObject)return null;window.snackbar.createHtmlElement(),"complete"===document.readyState?window.snackbar.show(snackbarDataObject.message,snackbarDataObject.type):document.addEventListener("readystatechange",e=>{"complete"===document.readyState&&window.snackbar.show(snackbarDataObject.message,snackbarDataObject.type)})}},window.snackbar.maybeShowOnInit()}),function(d){"use strict";var t=!1,c={init:function(e){t?(c.listeners.switchVariableNumberingPattern(),c.listeners.reenableInputsInModule(),c.listeners.moveModule(),c.functions.rebulidModulesKeys(),c.functions.rebuildTestKeys(),c.functions.enableModulesSave(),c.listeners.changePointsEvent()):(c.listeners.enableSelectables(),c.listeners.switchVariableNumberingPattern(),c.listeners.reenableInputsInModule(),c.listeners.moveModule(),c.listeners.addModule(),c.listeners.addQuestion(),c.listeners.addAnswer(),c.listeners.changePointsEvent(),c.listeners.removeQuestion(),c.listeners.removeAnswer(),c.listeners.setDripValues(),c.listeners.addLesson(),c.listeners.remove(),c.listeners.uploadFiles(),c.listeners.changeDripUnit(),c.listeners.removePage(),c.listeners.openModal(),c.listeners.closeModal(),c.listeners.triggerUnsavedDataWarning(),c.listeners.quizQuestionActions(),c.functions.rebulidModulesKeys(),c.functions.rebuildTestKeys(),c.functions.enableModulesSave(),c.saving=!1,c.bundleMode="bundle"===e,c.mode=e,t=!0)},listeners:{moveModule:function(){d("#bpmj_eddcm_modules_list").sortable({cursor:"move",connectWith:".module-submodules",placeholder:"eddcm-sortable-placeholder",stop:function(e,t){c.functions.rebulidModulesKeys(),window.wpi_tab_save_data_checker.addUnsavedData("course_structure")}}).disableSelection(),d(".module-submodules").sortable({cursor:"move",connectWith:"#bpmj_eddcm_modules_list, .module-submodules",stop:function(e,t){c.functions.rebulidModulesKeys(),window.wpi_tab_save_data_checker.addUnsavedData("course_structure")},receive:function(e,t){t.item.hasClass("full")&&t.sender.sortable("cancel")}}).disableSelection(),d("#bpmj_eddcm_questions_list.modules").sortable({cursor:"move",handle:".question-header",stop:function(e,t){c.functions.rebuildTestKeys(),window.wpi_tab_save_data_checker.addUnsavedData("course_structure")}}),d(".answers").sortable({cursor:"move",connectWith:".answers",items:"li:not(.add-answer)",stop:function(e,t){c.functions.rebuildTestKeys(),window.wpi_tab_save_data_checker.addUnsavedData("course_structure")}})},switchVariableNumberingPattern:function(){var e=d("#enable-certificate-numbering").is(":checked");function t(){wp.data.dispatch("core/editor").lockPostSaving("empty_certyficate_number")}function n(){wp.data.dispatch("core/editor").unlockPostSaving("empty_certyficate_number")}function a(){d(document).on("keyup","#certificate_numbering_pattern",function(){preg_match("[a-zA-Z//0-1 ]*X[a-zA-Z //]*",d(this).val())?(n(),d(this).removeClass("border-error-red"),d("#error-numbering-pattern").addClass("hidden-error")):(t(),d(this).addClass("border-error-red"),d("#error-numbering-pattern").removeClass("hidden-error"))})}e&&a(),d(document).on("click","#enable-certificate-numbering",function(){var e;(d(this).is(":checked")?(e=d("#certificate_numbering_pattern").val(),d("#numbering-pattern").show(),e||t(),a):(d("#numbering-pattern").hide(),d("#certificate_numbering_pattern").val(""),n))()})},remove:function(){d(document).on("click",'[data-action="remove"]',function(e){e.preventDefault();e=d(this).parent().find('[data-action="open-modal"]').data("id");d(document).find('.bpmj-eddcm-modal[data-modal="'+e+'"]').remove(),d("html, body").css("overflow","visible"),d(this).parent().find(".lessons li.lesson").length&&d(this).parent().find(".lesson").each(function(){var e=d(this).find('[data-action="open-modal"]').data("id");d(document).find('.bpmj-eddcm-modal[data-modal="'+e+'"]').remove(),d("html, body").css("overflow","visible")}),d(this).parent().remove(),c.functions.rebulidModulesKeys(),window.wpi_tab_save_data_checker.addUnsavedData("course_structure")})},addModule:function(){d(document).on("click",'[data-action="add-module"]',function(e){e.preventDefault(),c.functions.removeSearchPages(),d(this).html('<span class="dashicons dashicons-update"></span>');var e=d(this).data("mode"),t="",n=("full"==e?bpmj_eddcm.creator.placeholder_module:"test"==e?bpmj_eddcm.creator.placeholder_test:bpmj_eddcm.creator.placeholder_lesson,t+=d("#bpmj_eddcm_new_module_"+e+"_template").html().replace(/id="eddcm_title"/,'id="eddcm_title" class="focus-me"'),d(this).parent(".creator-buttons").prev(".modules")),t=((0<n.length?(n.append(t),n.sortable({cursor:"move",connectWith:"#bpmj_eddcm_modules_list, .module-submodules",stop:function(e,t){c.functions.rebulidModulesKeys()},receive:function(e,t){t.item.hasClass("full")&&t.sender.sortable("cancel")}})):d("#bpmj_eddcm_modules_list").append(t).find(".module-submodules").sortable({cursor:"move",connectWith:"#bpmj_eddcm_modules_list, .module-submodules",stop:function(e,t){c.functions.rebulidModulesKeys()},receive:function(e,t){t.item.hasClass("full")&&t.sender.sortable("cancel")}})).disableSelection(),d(".modules .focus-me").removeClass("focus-me").focus(),c.functions.rebulidModulesKeys(),d(n).find(".module:last").length?d(n).find(".module:last"):d("#bpmj_eddcm_modules_list .module:last"));t.find("> .drip_unit_label").each(function(){d(this).text(d(".drip-unit-field option:selected").text())}),t.find('> input[name$="[drip_unit]"]').each(function(){d(this).val(d("#bpmj_eddcm_drip_unit").val())}),t.find("> input#eddcm_title").each(function(){d(this).trigger("change")}),c.functions.autodrip(t.get(0)),c.listeners.reenableInputsInModule(),"full"==e?d(this).html(bpmj_eddcm.creator.add_module):"test"==e?d(this).html(bpmj_eddcm.creator.add_test):d(this).html(bpmj_eddcm.creator.add_lesson)})},addQuestion:function(){d(document).on("click",'[data-action="add-question"]',function(e){e.preventDefault(),c.functions.removeSearchPages(),d(this).html('<span class="dashicons dashicons-update"></span>');e="";e+=d("#bpmj_eddcm_new_test_question_template").html().replace(/id="eddcm_title"/,'id="eddcm_title" class="focus-me"'),d("#bpmj_eddcm_questions_list").append(e),d("#bpmj_eddcm_questions_list .focus-me").removeClass("focus-me").focus(),d(".eddcm-test-question-type.template").removeClass("template").on("change",c.listeners.changeQuestionTypeEvent),c.functions.rebuildTestKeys(),d(this).html(bpmj_eddcm.creator.add_question)})},addAnswer:function(){d(document).on("click",'[data-action="add-answer"]',function(e){switch(e.preventDefault(),d(this).data("type")){case"single":case"multi":var t=d("#bpmj_eddcm_new_test_question_single_answer_template").html();d(this).before(t)}d(this).data("type"),c.functions.rebuildTestKeys()})},changePointsEvent:function(){t||d(document).on("change",".points-value",c.functions.recalculateQuizPoints)},quizQuestionActions:function(){d(document).on("click",".question__show_comment_field_button",function(e){d(this).closest(".question-header").next(".question-body").find(".question-comment-field-wrapper").slideToggle()})},changeQuestionTypeEvent:function(){var e=d(this).val();switch(d(this).closest(".question-header").next(".question-body").find(".question-type-tab").css("display","none"),e){case"single_radio":case"single_select":case"multiple":d(this).closest(".question-header").next(".question-body").find(".question-type-single-answer-tab, .question-type-single-tab").css("display","block");break;case"text":d(this).closest(".question-header").next(".question-body").find(".question-type-text-answer-tab, .question-type-text-tab").css("display","block");break;case"file":d(this).closest(".question-header").next(".question-body").find(".question-type-file-answer-tab, .question-type-file-tab").css("display","block")}d(".question-type-text-answer-tab textarea").each(function(){d(this).height(0).height(this.scrollHeight)}),c.functions.recalculateQuizPoints()},removeQuestion:function(){d(document).on("click",'[data-action="remove-question"]',function(e){e.preventDefault(),d(this).closest(".module.question").remove(),c.functions.rebuildTestKeys(),c.functions.recalculateQuizPoints()})},removeAnswer:function(){d(document).on("click",'[data-action="remove-answer"]',function(e){e.preventDefault(),d(this).closest(".answer").remove(),c.functions.rebuildTestKeys(),c.functions.recalculateQuizPoints()})},reenableInputsInModule:function(){d(".modules input:not(.drag-fixed)").addClass("drag-fixed").mousedown(function(e){e.stopPropagation()})},setDripValues:function(){d(document).on("click",'[data-action="set-drip-value"]',function(e){e.preventDefault();let t=parseInt(jQuery(".drip-value-field").val()),n=(d("#bpmj_eddcm_drip_value").val(t).trigger("change"),0);d("#bpmj_eddcm_modules_list .module, #bpmj_eddcm_modules_list .lesson").each(function(){d(this).find('> input[name$="[drip_value]"]').val(t&&n?n:"0"),d(this).hasClass("full")||(n+=t)})})},addLesson:function(){d(document).on("click",'[data-action="add-lesson"]',function(e){e.preventDefault();e="",e+=d("#bpmj_eddcm_new_lesson_template").html().replace(/id="eddcm_title"/,'id="eddcm_title" class="focus-me"'),d(this).before(e),d(".modules .focus-me").removeClass("focus-me").focus(),c.functions.rebulidModulesKeys(),e=d(this).prev(".lesson");e.find("> .drip_unit_label").each(function(){d(this).text(d("#bpmj_eddcm_drip_unit_label").text())}),e.find('> input[name$="[drip_unit]"]').each(function(){d(this).val(d("#bpmj_eddcm_drip_unit").val())}),e.find("> input#eddcm_title").each(function(){d(this).trigger("change")}),c.functions.autodrip(e.get(0)),c.listeners.reenableInputsInModule()})},openModal:function(){d(document).on("click",'[data-action="open-modal"]',function(e){e.preventDefault(),d(this).hasClass("disabled")||(e=d(this).data("id"),tinymce.execCommand("mceAddEditor",!0,"content_"+e),d('.bpmj-eddcm-modal[data-modal="'+e+'"]').css("display","flex").css("opacity","1"))})},closeModal:function(){d(document).on("click",'[data-action="close-modal"]',function(e){e.preventDefault();e=d(this).data("id");d('.bpmj-eddcm-modal[data-modal="'+e+'"]').remove(),d("html, body").css("overflow","visible")}),d(document).on("click",".bpmj-eddcm-modal",function(e){e.target==this&&(e=d(this).find('[data-action="close-modal"]').data("id"),d('.bpmj-eddcm-modal[data-modal="'+e+'"]').remove(),d("html, body").css("overflow","visible"))}),d(document).on("click",".bpmj-eddcm-modal > .row",function(e){e.target==this&&(e=d(this).parent().find('[data-action="close-modal"]').data("id"),d('.bpmj-eddcm-modal[data-modal="'+e+'"]').remove(),d("html, body").css("overflow","visible"))}),d(document).on("click",".bpmj-eddcm-modal > .row > .container",function(e){e.target==this&&(e=d(this).parent().parent().find('[data-action="close-modal"]').data("id"),d('.bpmj-eddcm-modal[data-modal="'+e+'"]').remove(),d("html, body").css("overflow","visible"))})},removePage:function(){d(document).on("click",'[data-action="remove-page"]',function(e){e.preventDefault();e=d(this).parent();e.find("#eddcm_id").remove(),d(this).remove(),e.find("#eddcm_title").removeClass("choosen").attr("readonly",!1).val("").focus()})},uploadFiles:function(){var s;d(document).on("click","#uploadFiles",function(e){e.preventDefault();var i=d(this).parent(),o=i.find(".wp-idea-files");s||(s=wp.media({title:"Select or Upload Media Of Your Chosen Persuasion",button:{text:"Use this media"},multiple:!0})).on("select",function(){var e,t=s.state().get("selection").toJSON();if(d.isArray(t)){for(var n=0,a=t.length;n<a;n++)i.find('.file[data-id="'+t[n].id+'"]').length||(console.log(t[n]),e="image"==t[n].type?"background-image: url("+t[n].url+"); background-size: cover; background-position: center center":"background-image: url("+t[n].icon+"); background-position: center 5px;",e='<div class="file" data-id="'+t[n].id+'" style="'+e+'">',e+='<span class="dashicons dashicons-no remove-file"></span>',"image"!=t[n].type&&(e+='<span class="title">'+t[n].filename+"</span>"),e=e+('<input type="text" id="files" name="bpmj_wpidea[files]['+t[n].id)+'][desc]" placeholder="Short file description"></div>',o.append(e));c.functions.rebulidModulesKeys()}}),s.open()}),d(document).on("click",".remove-file",function(e){e.preventDefault(),d(this).parent().remove()})},enableSelectables:function(){d(document).on("click",".selectable",function(e){var t=d(this).find('input[type="checkbox"]').get(0);t&&t!==e.target&&(t.checked=!t.checked),t.checked?d(this).addClass("selected"):d(this).removeClass("selected"),c.bundleMode&&c.functions.updateBundleInfo()})},changeDripUnit:function(){d(document).on("click",'[data-action="change-drip-unit-do"]',function(e){e.preventDefault();let t=d(".drip-unit-field").val(),n=d(".drip-unit-field option:selected").text();d("#bpmj_eddcm_drip_unit").val(t),d("#bpmj_eddcm_modules_list .drip_unit_label").each(function(){d(this).text(n)}),d('#bpmj_eddcm_modules_list input[name$="[drip_unit]"]').each(function(){d(this).val(t).trigger("change")})})},triggerUnsavedDataWarning(){d(document).on("change","#form-course-structure :input",function(e){window.wpi_tab_save_data_checker.addUnsavedData("course_structure")})}},functions:{rebuildTestKeys:function(){var t=0;d(".modules li.module.question").each(function(){var e;d(this).hasClass("ui-sortable-placeholder")||(d(this).attr("data-question",t),d(this).find(".eddcm-test-question-id").attr("name","bpmj_eddcm_test_questions["+t+"][id]").attr("value",t),d(this).find(".eddcm-test-question-title").attr("name","bpmj_eddcm_test_questions["+t+"][title]"),d(this).find(".eddcm-test-question-type").attr("name","bpmj_eddcm_test_questions["+t+"][type]"),d(this).find(".eddcm-test-question-question_comment").attr("name","bpmj_eddcm_test_questions["+t+"][question_comment]"),d(this).find(".answers").length&&(e=0,d(this).find(".answer").each(function(){d(this).find(".eddcm-test-question-answer-id").attr("name","bpmj_eddcm_test_questions["+t+"][answer]["+e+"][id]").attr("value",e),d(this).find(".eddcm-test-question-answer-title").attr("name","bpmj_eddcm_test_questions["+t+"][answer]["+e+"][title]"),d(this).find(".eddcm-test-question-answer-points").attr("name","bpmj_eddcm_test_questions["+t+"][answer]["+e+"][points]"),e++})),t++)})},rebulidModulesKeys:function(){var n=0;d("#bpmj_eddcm_modules_list > li.module").not(".question").each(function(){var e,t;d(this).hasClass("ui-sortable-placeholder")||(d(this).attr("data-module",n),d(this).find("> input#eddcm_id").attr("name","bpmj_eddcm_module["+n+"][id]"),d(this).find("> input#eddcm_created_id").attr("name","bpmj_eddcm_module["+n+"][created_id]"),d(this).find("> input#eddcm_cloned_from_id").attr("name","bpmj_eddcm_module["+n+"][cloned_from_id]"),d(this).find("> input#eddcm_title").attr("name","bpmj_eddcm_module["+n+"][title]"),d(this).find("> input#eddcm_mode").attr("name","bpmj_eddcm_module["+n+"][mode]"),d(this).find("> input.drip_value").attr("name","bpmj_eddcm_module["+n+"][drip_value]"),d(this).find('> input[name$="[drip_unit]"]').attr("name","bpmj_eddcm_module["+n+"][drip_unit]"),d(this).find('> .variable-prices input[name$="[variable_prices][]"]').attr("name","bpmj_eddcm_module["+n+"][variable_prices][]"),e=d(this).find('[data-action="open-modal"]').data("id"),d(document).find('.bpmj-eddcm-modal[data-modal="'+e+'"] textarea').attr("name","bpmj_eddcm_module["+n+"][content]"),d(document).find('.bpmj-eddcm-modal[data-modal="'+e+'"] #subtitle').attr("name","bpmj_eddcm_module["+n+"][subtitle]"),d(document).find('.bpmj-eddcm-modal[data-modal="'+e+'"] #level').attr("name","bpmj_eddcm_module["+n+"][level]"),d(document).find('.bpmj-eddcm-modal[data-modal="'+e+'"] #duration').attr("name","bpmj_eddcm_module["+n+"][duration]"),d(document).find('.bpmj-eddcm-modal[data-modal="'+e+'"] #shortdesc').attr("name","bpmj_eddcm_module["+n+"][shortdesc]"),d(document).find('.bpmj-eddcm-modal[data-modal="'+e+'"] #files').each(function(){d(this).attr("name","bpmj_eddcm_module["+n+"][files]["+d(this).data("id")+"][desc]")}),d(this).find(".modules li.module").length&&(t=0,d(this).find(".module").each(function(){d(this).attr("data-module",n),d(this).attr("data-submodule",t),d(this).find("> input#eddcm_id").attr("name","bpmj_eddcm_module["+n+"][module]["+t+"][id]"),d(this).find("> input#eddcm_created_id").attr("name","bpmj_eddcm_module["+n+"][module]["+t+"][created_id]"),d(this).find("> input#eddcm_cloned_from_id").attr("name","bpmj_eddcm_module["+n+"][module]["+t+"][cloned_from_id]"),d(this).find("> input#eddcm_title").attr("name","bpmj_eddcm_module["+n+"][module]["+t+"][title]"),d(this).find("> input#eddcm_mode").attr("name","bpmj_eddcm_module["+n+"][module]["+t+"][mode]"),d(this).find("> input.drip_value").attr("name","bpmj_eddcm_module["+n+"][module]["+t+"][drip_value]"),d(this).find('> input[name$="[drip_unit]"]').attr("name","bpmj_eddcm_module["+n+"][module]["+t+"][drip_unit]"),d(this).find('> .variable-prices input[name$="[variable_prices][]"]').attr("name","bpmj_eddcm_module["+n+"][module]["+t+"][variable_prices][]");var e=d(this).find('[data-action="open-modal"]').data("id");d(document).find('.bpmj-eddcm-modal[data-modal="'+e+'"] textarea').attr("name","bpmj_eddcm_module["+n+"][module]["+t+"][content]"),d(document).find('.bpmj-eddcm-modal[data-modal="'+e+'"] #subtitle').attr("name","bpmj_eddcm_module["+n+"][module]["+t+"][subtitle]"),d(document).find('.bpmj-eddcm-modal[data-modal="'+e+'"] #level').attr("name","bpmj_eddcm_module["+n+"][module]["+t+"][level]"),d(document).find('.bpmj-eddcm-modal[data-modal="'+e+'"] #duration').attr("name","bpmj_eddcm_module["+n+"][module]["+t+"][duration]"),d(document).find('.bpmj-eddcm-modal[data-modal="'+e+'"] #shortdesc').attr("name","bpmj_eddcm_module["+n+"][module]["+t+"][shortdesc]"),d(document).find('.bpmj-eddcm-modal[data-modal="'+e+'"] #files').each(function(){d(this).attr("name","bpmj_eddcm_module["+n+"][module]["+t+"][files]["+d(this).data("id")+"][desc]")}),t++})),n++)})},modal:function(e,t,n,a,i,o){d("html, body").css("overflow","hidden");o='<div class="modal bpmj-eddcm-modal '+(o||"")+'" data-modal="'+e+'"><div class="row"><div class="container"><div class="panel">',o+='<div class="panel-heading">'+t,i&&(o+='<span class="dashicons dashicons-no-alt close-modal" data-action="close-modal" data-id="'+e+'"></span>'),o=(o+="</div>")+'<div class="panel-body '+(a||"")+'">'+n+"</div></div></div></div></div>",t=d(".edd-courses-manager-creator-steps-form, #bpmj_eddcm_modules, .edd-courses-manager, .bpmj-eddcm-cs-section-body:visible");(t=0===t.length?d(document.body):t).append(o),d('.bpmj-eddcm-modal[data-modal="'+e+'"]').fadeIn()},enableModulesSave:function(){d("#bpmj_eddcm_save_modules").val("1")},autodrip:function(e){var t=parseInt(jQuery("#bpmj_eddcm_drip_value").val()),n=0,a=null,i=!1;t&&d("#bpmj_eddcm_modules_list .module, #bpmj_eddcm_modules_list .lesson").each(function(){if(i)n=parseInt(d(this).find('> input[name$="[drip_value]"]').val(),10),d(this).find('> input[name$="[drip_value]"]').val(t+(n||0));else if(e===d(this).get(0)){if(n=parseInt(a.find('> input[name$="[drip_value]"]').val(),10),a.hasClass("module")&&!d(this).hasClass("module"))return d(this).find('> input[name$="[drip_value]"]').val(n||0),!1;i=!0,d(this).find('> input[name$="[drip_value]"]').val(t+(n||0))}else a=d(this)})},removeSearchPages:function(){d(".search-pages").each(function(){d(this).fadeOut("fast",function(){d(this).remove()})})},updateBundleInfo:function(){var e=d(".question"),n=[2,d('input[name="bundled_courses[]"]:checked').length];e.html(bpmj_eddcm.creator.bundle_requirement.replace(/\{(\d+)\}/g,function(e,t){return n[t]}))},getSeeItemListButtonUrl(e){e=e.data("see-item-list-button-url");return void 0!==e?e:(c.bundleMode?bpmj_eddcm.creator.modal_save_bundle:bpmj_eddcm.creator.modal_save).btn1.url},getEditItemButtonText(e){e=e.data("edit-item-button-label");return void 0!==e?e:(c.bundleMode?bpmj_eddcm.creator.modal_save_bundle:bpmj_eddcm.creator.modal_save).btn2.title},recalculateQuizPoints(){var a=0;d("select.eddcm-test-question-type").each(function(){var e,t,n=d(this).val();"single_radio"===n||"single_select"===n?(e=d(this).closest(".module.question").find(".points-value"),t=parseInt(d(e).first().val()),isNaN(t)&&(t=0),e.each(function(){var e=parseInt(d(this).val());isNaN(e)&&(e=0),t<e&&(t=e)}),a+=t):"multiple"===n&&d(this).closest(".module.question").find(".points-value").each(function(){var e=parseInt(d(this).val());(isNaN(e)||e<0)&&(e=0),a+=e})}),d("#pass-condition-points").text(a),d("#pass-condition-points-input").attr("max",a),d("#pass-condition-points-input-all").attr("value",a),d("#pass-condition-points-input").val()>a&&d("#pass-condition-points-input").val(a)}}};d(document).ready(function(){var e="course",t=!1;d(".edd-courses-manager-creator-steps-form").length&&(t=!0,e=d(".edd-courses-manager-creator-steps-form").data("mode")??e),(t=d("#bpmj_eddcm_modules").length||d("#bpmj_eddcm_options").length?!0:t)?c.init(e):c.listeners.closeModal(),d(".eddcm-test-question-type").on("change",c.listeners.changeQuestionTypeEvent).trigger("change")}),window.bpmj_eddcm_open_modal=c.functions.modal,window.bpmj_eddcm_course_structure_creator_init=c.init,window.bpmj_eddcm_quiz_questions_structure_creator_init=function(){c.init(),d(".eddcm-test-question-type").on("change",c.listeners.changeQuestionTypeEvent).trigger("change")}}(jQuery),function(o){"use strict";var s={init:function(){s.listeners.setAccessDueDate(),s.listeners.setTotalTime(),s.listeners.removeUserFromCourse(),s.listeners.cancelSubscription(),s.listeners.addUserToCourse(),s.listeners.showCourseProgressPopup()},listeners:{setAccessDueDate:function(){o(document).on("click",'[data-action="set-access-time-popup"]',function(e){e.preventDefault();var e=o(this).data("accessTime"),t=o(this).data("userId"),n=o(this).data("productId"),a=o(this).data("courseId"),i=o("#bpmj_eddcm_edit_access_time").html();s.functions.modal("set-access-time",bpmj_eddcm.users_manager.set_access_time_popup.title,i,"text-center",!0);i=o('.bpmj-eddcm-modal[data-modal="set-access-time"]').find("form").get(0);i.user_id.value=t,i.product_id.value=n,i.course_id.value=a,o(i.no_limit).click(function(){o("#bpmj_eddcm_edit_access_time_details").toggle()}),bpmj_eddcm_enable_datepickers(),e?(i.no_limit.checked=!1,o("#bpmj_eddcm_edit_access_time_details").show(),t=new Date(1e3*e),i.access_due_date.value=[t.getUTCFullYear(),s.functions.zeropad(t.getUTCMonth()+1),s.functions.zeropad(t.getUTCDate())].join("-"),i.access_due_hh.value=s.functions.zeropad(t.getUTCHours()),i.access_due_mm.value=s.functions.zeropad(t.getUTCMinutes())):(i.no_limit.checked=!0,n=new Date,i.access_due_date.value=[n.getFullYear(),s.functions.zeropad(n.getMonth()+1),s.functions.zeropad(n.getDate())].join("-"),o("#bpmj_eddcm_edit_access_time_details").hide())}),o(document).on("click",'[data-action="set-access-time"]',function(e){e.preventDefault();var e=o(this).closest("form"),t=o(this),e=e.serializeObject(),n=(e.action="bpmj_eddcm_set_access_time",e._ajax_nonce=bpmj_eddcm_users_manager_nonce,e.course_id);o.ajax({type:"POST",data:e,dataType:"json",url:bpmj_eddcm.ajax,beforeSend:function(){t.data("action",""),t.html('<span class="dashicons dashicons-update"></span>')},success:function(e){o('.bpmj-eddcm-modal[data-modal="set-access-time"]').remove(),o("html, body").css("overflow","visible"),o("#access_time_"+n).html(e.cell_html)}}).fail(function(e){window.console&&window.console.log&&console.log(e)})})},setTotalTime:function(){o(document).on("click",'[data-action="set-total-time-popup"]',function(e){e.preventDefault();var e=o(this).data("userId"),t=o(this).data("productId"),n=o(this).data("courseId"),a=o("#total_time_"+n).text(),i=o("#bpmj_eddcm_edit_total_time").html();s.functions.modal("set-total-time",bpmj_eddcm.users_manager.set_total_time_popup.title,i,"text-center",!0);i=o('.bpmj-eddcm-modal[data-modal="set-total-time"]').find("form").get(0),i.user_id.value=e,i.product_id.value=t,i.course_id.value=n,e=a.split(":");i.total_time_sign.value=parseInt(e[0])<0?"-":"+",i.total_time_dd.value=parseInt(e[0])<0?String(-1*e[0]):e[0],i.total_time_hh.value=e[1],i.total_time_mm.value=e[2],i.total_time_ss.value=e[3]}),o(document).on("click",'[data-action="set-total-time"]',function(e){e.preventDefault();var e=o(this).closest("form"),t=o(this),e=e.serializeObject(),n=(e.action="bpmj_eddcm_set_total_time",e._ajax_nonce=bpmj_eddcm_users_manager_nonce,e.course_id);o.ajax({type:"POST",data:e,dataType:"json",url:bpmj_eddcm.ajax,beforeSend:function(){t.data("action",""),t.html('<span class="dashicons dashicons-update"></span>')},success:function(e){o('.bpmj-eddcm-modal[data-modal="set-total-time"]').remove(),o("html, body").css("overflow","visible"),window.bpmj_eddcm_total_timers["total_time_"+n]=e.total_time}}).fail(function(e){window.console&&window.console.log&&console.log(e)})})},removeUserFromCourse:function(){o(document).on("click",'[data-action="remove-from-course"]',function(e){if(!confirm(bpmj_eddcm.users_manager.remove_user_from_course_confirm))return!1;e.preventDefault();var e={user_id:o(this).data("userId"),product_id:o(this).data("productId"),action:"bpmj_eddcm_remove_from_course",_ajax_nonce:bpmj_eddcm_users_manager_nonce},t=o(this);o.ajax({type:"POST",data:e,dataType:"json",url:bpmj_eddcm.ajax,beforeSend:function(){t.data("action",""),t.html('<span class="dashicons dashicons-update"></span>')},success:function(e){t.closest("tr").remove(),location.reload()}}).fail(function(e){window.console&&window.console.log&&console.log(e)})})},cancelSubscription:function(){o(document).on("click",".btn-eddcm-cancel-subscription",function(e){if(!confirm(bpmj_eddcm.users_manager.cancel_subscription_confirm))return!1})},addUserToCourse:function(){o(document).on("click",'[data-action="add-to-course"]',function(e){e.preventDefault();e=o("#bpmj_eddcm_add_user_to_a_course").html();s.functions.modal("add-to-course",bpmj_eddcm.users_manager.add_to_course.title,e,"text-center",!0),o('.bpmj-eddcm-modal[data-modal="add-to-course"]')}),o(document).on("click",'[data-action="add-to-course-do"]',function(e){e.preventDefault();var e={user_id:o(this).data("userId"),product_id:o(this).data("productId"),price_id:o(this).data("priceId")||null,action:"bpmj_eddcm_add_to_course",_ajax_nonce:bpmj_eddcm_users_manager_nonce},t=o(this);o.ajax({type:"POST",data:e,dataType:"json",url:bpmj_eddcm.ajax,beforeSend:function(){t.data("action",""),t.html('<span class="dashicons dashicons-update"></span>')},success:function(){t.closest("tr").remove(),window.location.reload()}}).fail(function(e){window.console&&window.console.log&&console.log(e)})})},showCourseProgressPopup:function(){o(document).on("click",'[data-action="show-course-progress-popup"]',function(e){e.preventDefault();var e=o("#bpmj_eddcm_course_progress").html(),e=(s.functions.modal("course-progress",bpmj_eddcm.users_manager.course_progress_popup.title,e,"text-center",!0),o('.bpmj-eddcm-modal[data-modal="course-progress"]')),t=(e.find(".container").css({width:"800px",maxWidth:"800px"}),e.find("._put_content_here")),e={user_id:o(this).data("userId"),course_id:o(this).data("courseId"),action:"bpmj_eddcm_show_course_progress",_ajax_nonce:bpmj_eddcm_users_manager_nonce};o.ajax({type:"POST",data:e,dataType:"html",url:bpmj_eddcm.ajax,success:function(e){t.html(e)}}).fail(function(e){window.console&&window.console.log&&console.log(e)})})}},functions:{modal:bpmj_eddcm_open_modal,zeropad:function(e){return("00"+e).slice(-2)}}};o(document).ready(function(){s.init()})}(jQuery),function(o){"use strict";var n={init:function(){n.listeners.variablePricesSwitch(),n.listeners.variablePricesOpenModal(),n.listeners.variablePricesSave(),n.listeners.variablePricesValidator(),n.listeners.variablePricesSwitchCheckbox(),n.listeners.purchaseLimitKeepSynced(),n.listeners.addToCartLink(),n.listeners.courseStructureSave(),n.listeners.quizStructureSave(),n.listeners.timeFieldValidator(),n.listeners.numberTestAttemptsValidator(),n.functions.refresh_variable_prices_checkboxes(),n.init_autotips()},listeners:{addToCartLink:function(){o(document).on("keyup change",".bpmj-eddcm-add-to-cart-link-creator input",function(){o(".bpmj-eddcm-add-to-cart-link-copied").removeClass("copied");var e=o(this).closest(".bpmj-eddcm-add-to-cart-link-creator"),n={};e.find(":input").each(function(e,t){t.name&&("checkbox"!==t.type||t.checked)&&(n[t.name.replace(/^atc_/,"")]=t.value)});var i=(i=n.link_base)+(-1===i.indexOf("?")?"?":"&")+"add-to-cart={product_id}";1<parseInt(n.quantity)&&(i+="&quantity="+n.quantity),n.discount&&(i+="&discount="+n.discount),n.gift&&(i+="&gift=1"),e.find(".bpmj-eddcm-add-to-cart-link").each(function(e,t){var n=o(t).data("productId"),a=o(t).data("priceId"),n=i.replace(/\{product_id\}/,n);a&&(n+="&price-id="+a),t.value=n})})},variablePricesSwitch:function(){o(document).on("click","#eddcm-variable-pricing",function(e){o(this).is(":checked")?(o(".bpmj-eddcm-single-price").hide(),o(".bpmj-eddcm-variable-prices").show()):(o(".bpmj-eddcm-single-price").show(),o(".bpmj-eddcm-variable-prices").hide())})},variablePricesOpenModal:function(){o(document).on("click",'[data-action="edit-variable-prices"]',function(e){e.preventDefault(),n.functions.modal("bpmj-eddcm-variable-prices-modal",bpmj_eddcm.courses.variable_prices_popup.title,bpmj_eddcm.courses.variable_prices_popup.placeholder,"",!0,"ultra-wide");e={action:"wpi_handler",post_id:o(this).data("postId")};e[bpmj_eddcm.nonce_name]=bpmj_eddcm.nonce_value,o.ajax({type:"POST",data:e,dataType:"json",url:bpmj_eddcm.ajax+"?wpi_route=admin/edit_course/get_variable_prices",success:function(e){var t=o("#bpmj-eddcm-variable-prices-placeholder");t.html(e.html),t.find("#edd_variable_price_fields").show(),t.find(".edd_repeatable_table tbody").sortable({handle:".edd_draghandle",items:".edd_repeatable_row",opacity:.6,cursor:"move",axis:"y",update:function(){var e=0;o(this).find("tr").each(function(){o(this).find("input.edd_repeatable_index").each(function(){o(this).val(e)}),e++})}})},error:function(e,t,n){console.log("Error: "+e.responseJSON.error_message)}}).fail(function(e){window.console&&window.console.log&&console.log(e)})})},variablePricesSave:function(){o(document).on("click",'[data-action="save-variable-prices"]',function(e){e.preventDefault(),"1"!==o(this).data("saving")&&(o(this).data("saving","1"),(e=o("#bpmj-eddcm-variable-prices-placeholder").find(":input").serializeObject()).variable_sale_price_from_date=o("#variable_sale_price_from_date").val(),e.variable_sale_price_from_hour=o("#variable_sale_price_from_hour").val(),e.action="wpi_handler",e[bpmj_eddcm.nonce_name]=bpmj_eddcm.nonce_value,o(this).html('<span class="dashicons dashicons-update"></span>'),o.ajax({type:"POST",data:e,dataType:"json",url:bpmj_eddcm.ajax+"?wpi_route=admin/edit_course/save_variable_prices",success:function(e){e&&(o("#bpmj-eddcm-variable-prices").html(e.variable_prices_summary_html),e.no_variable_prices||(o("#sales_disabled").prop("disabled",!1),o("#sales_disabled_notice").text("")),window.snackbar.show(e.message)),o('[data-action="close-modal"]').trigger("click")},error:function(e,t,n){console.log("Error: "+e.responseJSON.error_message)}}).fail(function(e){window.console&&window.console.log&&console.log(e)}))})},variablePricesValidator:function(){o(document).on("keyup change",".bpmj-eddpc-access-time input[type=number]",function(){var e=o(this).val().replace(/[^0-9]/g,"");o(this).val(e)}),o(document).on("keyup change",".edd-sale-price-field, .edd-price-field",function(){var e=o(this).val().replace(/[^0-9\.,]/g,"");o(this).val(e)})},variablePricesSwitchCheckbox:function(){o(document).on("click",".module.full > .variable-prices input",n.functions.variable_prices_checkbox_onclick)},purchaseLimitKeepSynced:function(){var e=o("#bpmj_eddcm_purchase_limit"),t=o("#bpmj_eddcm_purchase_limit_items_left");e.val()===t.val()&&e.change(function(){t.val(e.val())})},courseStructureSave:function(){o(document).on("click","#save-course-structure",function(e){e.preventDefault(),o(this).prop("disabled",!0).html(settings_tab.saving_course_structure);e=o("#form-course-structure").serializeObject();e.action="wpi_handler",e[bpmj_eddcm.nonce_name]=bpmj_eddcm.nonce_value,o.ajax({type:"POST",data:e,dataType:"json",url:bpmj_eddcm.ajax+"?wpi_route=admin/edit_course/save_course_structure",success:function(e){var t=e.errorMessage??[];0<t.length?(window.snackbar.show(t),setTimeout(function(){o("#save-course-structure").prop("disabled",!1).html(settings_tab.save_course_structure)},1e3)):(t=e.courseId??null,window.wpi_tab_save_data_checker.resetUnsavedData(),n.functions.reload_structure_tab(t),window.snackbar.show(e.successMessage))},error:function(e,t,n){console.log("Error: "+e.responseJSON.error_message)}}).fail(function(e){window.console&&window.console.log&&console.log(e)})})},quizStructureSave:function(){o(document).on("click","#save-quiz-structure",function(e){e.preventDefault(),o(this).prop("disabled",!0).html(settings_tab.saving_quiz_structure);e=o("#form-quiz-structure").serializeObject();e.action="wpi_handler",e[bpmj_eddcm.nonce_name]=bpmj_eddcm.nonce_value,o.ajax({type:"POST",data:e,dataType:"json",url:bpmj_eddcm.ajax+"?wpi_route=admin/edit_quiz/save_quiz_structure",success:function(e){var t=e.errorMessage??[];0<t.length?(window.snackbar.show(t),setTimeout(function(){o("#save-quiz-structure").prop("disabled",!1).html(settings_tab.save_course_structure)},1e3)):(t=e.quizId??null,window.wpi_tab_save_data_checker.resetUnsavedData(),n.functions.reload_quiz_structure_tab(t),window.snackbar.show(e.successMessage))},error:function(e,t,n){console.log("Error: "+e.responseJSON.error_message)}}).fail(function(e){window.console&&window.console.log&&console.log(e)})})},timeFieldValidator:function(){o(document).on("keyup change","#time",function(){var e=o(this).val().replace(/[^0-9]/g,"");o(this).val(e)})},numberTestAttemptsValidator:function(){o(document).on("keyup change","#number_test_attempts",function(){var e=o(this).val().replace(/[^1-9]/g,"");o(this).val(e)})}},functions:{modal:bpmj_eddcm_open_modal,interpolate_variable_prices_template:function(e,n,a){return e.replace(/{([a-z0-9\-]+)}/g,function(e,t){return"key"===t?a:(t=/checked-(\d+)/.exec(t))&&-1!==o.inArray(parseInt(t[1]),n)?' checked="checked" ':""})},reload_structure_tab:function(e){e&&(e=bpmj_eddcm.ajax+"?_wpnonce="+bpmj_eddcm.nonce_value+"&edit_course_id="+e+"&action=wpi_handler&wpi_route=admin/settings_fields_ajax/get_tab_content",o(".settings-content").html(o("template#loader").html()),o.ajax({method:"POST",url:e,data:{tab:"structure"},dataType:"html"}).success(e=>{e=JSON.parse(e),o(".settings-content").html(e.content),o(".settings-content").trigger("tab_loaded","structure")}))},reload_quiz_structure_tab:function(e){e&&(e=bpmj_eddcm.ajax+"?_wpnonce="+bpmj_eddcm.nonce_value+"&edit_quiz_id="+e+"&action=wpi_handler&wpi_route=admin/settings_fields_ajax/get_tab_content",o(".settings-content").html(o("template#loader").html()),o.ajax({method:"POST",url:e,data:{tab:"structure"},dataType:"html"}).success(e=>{e=JSON.parse(e),o(".settings-content").html(e.content),o(".settings-content").trigger("tab_loaded","structure")}))},refresh_variable_prices_checkboxes:function(){o(".module.full > .variable-prices input").each(function(){n.functions.variable_prices_checkbox_onclick.bind(this)()})},variable_prices_checkbox_onclick:function(){var e=o(this),t=e.is(":checked"),n=e.val();e.closest(".module.full").find(".lessons input._price_id_"+n).each(function(){o(this).prop("disabled",!t)})}},init_autotips:function(){o(".bpmj-eddcm-autotip").each(function(){var e=o(this),t=e.prevAll("label").last(),e=e.text(),n=o('<span class="bpmj-eddcm-autotip-icon dashicons dashicons-editor-help"></span>');(t.attr("title")?n:t).attr("title",e),t.append(n)})}};o(document).ready(function(){n.init(),o('select[name="wp_idea[tools][import_students][courses][]"]').select2(),o(".bpmj-break-import").on("click",function(e){e.preventDefault(),window.confirm("Are you sure you want to stop the import?")&&o.ajax({type:"POST",data:{action:"bpmj_eddcm_stop_the_import"},dataType:"json",url:bpmj_eddcm.ajax,complete:function(){}})}),o('input[name="wp_idea[enable_certificates]"]').on("click",function(){this.checked?o("#courses_certificates table tr:not(:first-child)").css("display","table-row"):o("#courses_certificates table tr:not(:first-child)").css("display","none")}).trigger("click"),o("#bpmj-eddcm-clear-quizes-filters").on("click",function(){o("#bpmj-eddcm-quizz-resolved-type").val(""),o("#bpmj-eddcm-quizz-resolved-by").val(""),o("#bpmj-eddcm-quizz-resolved-by-text").val("")}),o("body").on("click",".subscription-exceeded-popup-core__cta, .bpmj-eddcm-expiration-notice .bpmj-eddcm-expiration-notice__button.go, .bpmj-eddcm-expiration-notice .bpmj-eddcm-expiration-notice__button.box",function(e){e.preventDefault(),n.functions.modal("bpmj-eddcm-wpidea-prices-modal",o(this).data("modal-title"),"","",!0,"wp-idea-prices");var e=o('div.modal[data-modal="bpmj-eddcm-wpidea-prices-modal"] .panel-body'),t=(e.height(o(window).height()-100),o(this).data("buy-url"));t+="?uid="+o(this).data("uid")+"&domain="+o(this).data("domain"),o("<iframe>",{src:t}).css("width","100%").css("height","100%").appendTo(e)}),o(".copy-diagnostic-button-wrapper a").on("click",function(e){e.preventDefault();var e=(e=o("#diagnostics_data__table").html()).replace(/<br>/g,"").replace("\t",""),t=o("<textarea>");t.val(e).attr("readonly",!0),o("body").append(t),t.select(),document.execCommand("copy"),t.remove(),o(".diagnostic-data-copied").show()});function t(){o(".wpi-add-mailing-list").trigger("click"),o(".wpi-mailing-lists").children().addClass("first-list"),o('.wpi-add-mailing-list[data-mailer="'+o(".wpi-mailing-lists").data("mailer")+'"]').addClass("none")}function a(e){o(this).parent("div").remove(),0===o(".wpi-mailing-lists").children().length&&t()}o(".wpi-add-mailing-list").on("click",function(e){e.preventDefault();var e=o(this).data("mailer"),t=o('.wpi-mailing-list-template[data-mailer="'+e+'"]').clone(),n=(t.removeClass("wpi-mailing-list-template"),t.find("select"));n.attr("name",n.data("name")),n.on("change",function(){o(".wpi-mailing-lists").children().removeClass("first-list"),o('.wpi-add-mailing-list[data-mailer="'+o(".wpi-mailing-lists").data("mailer")+'"]').removeClass("none")}),t.find(".wpi-remove-mailing-list").on("click",a),o('.wpi-mailing-lists[data-mailer="'+e+'"]').append(t)}),o(".wpi-remove-mailing-list").on("click",a),0===o(".wpi-mailing-lists").children().length&&t()}),window.bpmj_eddcm_refresh_variable_prices_checkboxes=n.functions.refresh_variable_prices_checkboxes}(jQuery),function(s){"use strict";var e={init:function(){e.listeners.voucherPreview(),e.listeners.certificatePreview(),e.listeners.showHidePrivacyPolicySettings(),e.listeners.deleteCertificateTemplate(),e.listeners.messagesSettings(),e.listeners.toggleDefaultVatRate(),e.listeners.affiliateSettings(),e.listeners.activeSessionsLimiterSettings()},listeners:{affiliateSettings:function(){if(document.getElementById("wpuf-wp_idea[partner-program]")){let e=()=>{document.getElementById("wpuf-wp_idea[partner-program]").checked?jQuery(".commission_hideable_setting").show():jQuery(".commission_hideable_setting").hide()};e(),document.getElementById("wpuf-wp_idea[partner-program]").addEventListener("change",()=>{e()})}},activeSessionsLimiterSettings:function(){if(document.getElementById("wpuf-wp_idea[enable_active_sessions_limiter]")){let e=()=>{document.getElementById("wpuf-wp_idea[enable_active_sessions_limiter]").checked?jQuery(".session_limit_hideable_setting").show():jQuery(".session_limit_hideable_setting").hide()};e(),document.getElementById("wpuf-wp_idea[enable_active_sessions_limiter]").addEventListener("change",()=>{e()})}},messagesSettings:function(){if(document.getElementById("wpuf-payment_reminders[enable_payment_reminders]")){let e=()=>{document.getElementById("wpuf-payment_reminders[enable_payment_reminders]").checked?jQuery(".recovery_shopping_cart_hideable_setting").show():jQuery(".recovery_shopping_cart_hideable_setting").hide()};e(),document.getElementById("wpuf-payment_reminders[enable_payment_reminders]").addEventListener("change",()=>{e()})}if(document.getElementById("wpuf-wp_idea[allow_user_notice]")){jQuery(".user-notice-settings-description-alert").click(e=>{e.preventDefault()});let e=()=>{document.getElementById("wpuf-wp_idea[allow_user_notice]").checked?jQuery(".notice_hideable_setting").show():jQuery(".notice_hideable_setting").hide()};e(),document.getElementById("wpuf-wp_idea[allow_user_notice]").addEventListener("change",()=>{e()})}jQuery("<button class='hideable_toggle button' type='button'>"+bpmj_eddcm.settings.show+"</button>").insertBefore(".hideable_container"),jQuery(document).on("click",".hideable_toggle",e=>{jQuery(e.target).html()===bpmj_eddcm.settings.show?(jQuery(e.target).html(bpmj_eddcm.settings.hide),jQuery(e.target).after("<hr />")):(jQuery(e.target).parent().find("hr").remove(),jQuery(e.target).html(bpmj_eddcm.settings.show)),jQuery(e.target).parent().find(".hideable_container").toggle()})},voucherPreview:function(){s(document).on("click","#wp_idea_gift_pdf_voucher_preview_html,#wp_idea_gift_pdf_voucher_preview_pdf",function(e){e.preventDefault();var e=s(this),t=(document.URL,e.val(),""),n=tinyMCE.get("wp_idea-gift_pdf_voucher_template"),a=s("#wp_idea-gift_pdf_voucher_template"),t=a.is(":visible")||!n?btoa(encodeURIComponent(a.val())):btoa(encodeURIComponent(n.getContent())),a=document.getElementById("wp_idea[gift_pdf_voucher_styles]"),n=a?a.value:"",a=s('[name="wp_idea[gift_pdf_voucher_orientation]"]:checked').val(),i=s('[name="wp_idea[voucher_bg]"]').val(),o="#bpmj_eddcm_page {"+("landscape"===a?"height: 794px; width: 1122px;":"height: 1122px; width: 794px;")+";}",i=(""!=i&&(n=(o+='#bpmj_eddcm_page {background: url("'+i+'") no-repeat center;}')+n),s("#bpmj-eddcm-pdf-preview-hidden-form"));i.find('[name="type"]').val(e.val()),i.find('[name="content"]').val(t),i.find('[name="styles"]').val(btoa(encodeURIComponent(n))),i.find('[name="orientation"]').val(a),i.find('[name="pdftype"]').val("voucher"),i.trigger("submit")})},certificatePreview:function(){s(document).on("click","#wp_idea_certificate_pdf_preview_html, #wp_idea_certificate_pdf_preview_pdf",function(e){e.preventDefault();var e=s(this),t=(document.URL,e.val(),""),n=tinyMCE.get("wp_idea-certificate_template"),a=s("#wp_idea-certificate_template"),t=a.is(":visible")||!n?btoa(encodeURIComponent(a.val())):btoa(encodeURIComponent(n.getContent())),a=document.getElementById("wp_idea[certificate_template_styles]"),n=a?a.value:"",a=s('[name="wp_idea[certificate_orientation]"]:checked').val(),i=s('[name="wp_idea[certificates_bg]"]').val(),o="#bpmj_eddcm_page {"+("landscape"===a?"height: 794px; width: 1122px;":"height: 1122px; width: 794px;")+";}",i=(""!=i&&(n=(o+='#bpmj_eddcm_page {background: url("'+i+'") no-repeat center;}')+n),s("#bpmj-eddcm-pdf-preview-hidden-form"));i.find('[name="type"]').val(e.val()),i.find('[name="content"]').val(t),i.find('[name="styles"]').val(btoa(encodeURIComponent(n))),i.find('[name="orientation"]').val(a),i.find('[name="pdftype"]').val("cert"),i.trigger("submit")})},showHidePrivacyPolicySettings:function(){s('input[name="wp_idea[cookie-bar]"]').on("change",function(){var e=s(this).closest("tr.privacy-policy").siblings(".privacy-policy-show-hide");this.checked?e.show():e.hide()}).trigger("change")},deleteCertificateTemplate:function(){s(document).on("click",".delete-certificate-template",function(e){e.preventDefault(),confirm(bpmj_eddcm.remove_certificate_template)&&(showLoader(),(e={id:s(this).data("id"),certificate_action:"delete",action:"wpi_handler"})[bpmj_eddcm.nonce_name]=bpmj_eddcm.nonce_value,s.ajax({data:e,dataType:"json",type:"POST",url:bpmj_eddcm.ajax+"?wpi_route=admin/certificate_templates/delete",success:function(e,t){window.location.reload()},error:function(e,t,n){console.log("Error: "+e.responseJSON.error_message)}}))})},toggleDefaultVatRate:function(){s('select[name="wp_idea[invoices_is_vat_payer]"]').on("change",function(){"yes"===s(this).val()?s(this).closest("tr").next("tr").show():s(this).closest("tr").next("tr").hide()}).trigger("change")}}};s(document).ready(function(){e.init()})}(jQuery),jQuery(document).ready(function(a){"use strict";var i=function(){return"undefined"!=typeof BPMJ_HIDE_UPLOAD_TOGGLE&&!BPMJ_HIDE_UPLOAD_TOGGLE},o={toggleClassName:"bpmj_vimeo_upload_toggle",hasToggleClassName:"has-video-upload-toggle",elementsToHideOnUploadActive:[],checkStatusAndRender:function(a){var e=s.isUploadEnabled(),i=this;e.then(function(e,t){var e=1==e[s.ACTION_CHANGE_VIMEO_UPLOAD_ENABLED_PARAM_NAME],n=i.getHtml(e);i.render(n,a),e?i.hideElementsThatShouldNotBeVisible():i.restoreVisiblityOfTheElementsThatShouldNotBeVisible(),s.toggleVimeoUploadEnabledOnToggleChange()})},render:function(e,t){t=t||s.getInnerElement();t.parent().hasClass(o.hasToggleClassName)||(t.parent().addClass(o.hasToggleClassName),t.append(e))},getHtml:function(e){return'<div class="'+this.toggleClassName+'"><span>'+BPMJ_WPI_VIDEOS_I18N.upload_to_vimeo+'</span><label class="switch"><input type="checkbox" '+(e?'checked="true"':"")+'><span class="slider round"></span></label></span>'},isOn:function(){return!!a("."+this.toggleClassName+' input[type="checkbox"]').attr("checked")},registerElementToHideIfUploadActive:function(e){this.elementsToHideOnUploadActive.push(e)},hideElementsThatShouldNotBeVisible:function(){this.elementsToHideOnUploadActive.forEach(function(e){a(e).hide()})},restoreVisiblityOfTheElementsThatShouldNotBeVisible:function(){this.elementsToHideOnUploadActive.forEach(function(e){a(e).show()})}},s={ACTION_CHANGE_VIMEO_UPLOAD_ENABLED:"change_vimeo_upload_enabled",ACTION_GET_VIMEO_UPLOAD_ENABLED:"get_vimeo_upload_enabled",ACTION_CHANGE_VIMEO_UPLOAD_ENABLED_PARAM_NAME:"vimeo_upload_enabled",VIMEO_UPLOAD_ON:"on",VIMEO_UPLOAD_OFF:"off",init:function(){s.addUploadToggle()},addUploadToggle:function(){o.checkStatusAndRender()},toggleVimeoUploadEnabledOnToggleChange:function(){var e=this;a("."+o.toggleClassName).on("change",function(){e.toggleVimeoUploadEnabled(),o.isOn()?o.hideElementsThatShouldNotBeVisible():o.restoreVisiblityOfTheElementsThatShouldNotBeVisible()})},toggleVimeoUploadEnabled:function(){var e={};e[this.ACTION_CHANGE_VIMEO_UPLOAD_ENABLED_PARAM_NAME]=o.isOn()?this.VIMEO_UPLOAD_ON:this.VIMEO_UPLOAD_OFF,window.wp.ajax.send(this.ACTION_CHANGE_VIMEO_UPLOAD_ENABLED,{data:e,error:function(e){console.log("%c%s","color: #ff0000","error:"+e)}})},isUploadEnabled:function(){return window.wp.ajax.send(this.ACTION_GET_VIMEO_UPLOAD_ENABLED,{type:"GET"})},getInnerElement:function(){return a(".attachments-browser > .media-toolbar > .media-toolbar-secondary")}},d={queued:[],add:function(e){this.queued.push(e)},remove:function(e){this.queued.splice(this.queued.indexOf(e),1)},has:function(e){return-1!=this.queued.indexOf(e)}},n={VIDEO_ID_FIELD_NAME:"video_id",VIMEO_UPLOAD_STATUS_FIELD_NAME:"video_upload_status",VIDEO_UPLOAD_STATUS_IN_PROGRESS:"in_progress",VIDEO_UPLOAD_STATUS_COMPLETE:"complete",GENERAL_ATTACHMENT_CLASS:"bpmj_vimeo_attachment",IN_PROGRESS_CLASS:"bpmj_vimeo_attachment--upload_in_progress",COMPLETE_CLASS:"bpmj_vimeo_attachment--upload_complete",IN_PROGRESS_ICON_CLASS:"bpmj_vimeo_attachment__upload_in_progress_icon",COMPLETE_ICON_CLASS:"bpmj_vimeo_attachment__upload_complete_icon",ATTACHMENT_LABEL_CLASS:"bpmj_vimeo_attachment__label",ATTACHMENT_CHECKED_CLASS:"bpmj_vimeo_attachment--checked",ACTION_GET_VIMEO_UPLOAD_STATUS:"get_vimeo_upload_status",id:null,inputsStringContent:null,setId:function(e){this.id=e},setInputsStringContent:function(e){this.inputsStringContent=e},isOnVimeo:function(){var e;if(this.id)return e=a(this.inputsStringContent),!!((e=a("#attachments-"+this.id+"-"+this.VIDEO_ID_FIELD_NAME,e))?e.val():null)},isUploadToRemoteInProgress:function(){var e;if(this.id)return e=a(this.inputsStringContent),((e=a("#attachments-"+this.id+"-"+this.VIMEO_UPLOAD_STATUS_FIELD_NAME,e))?e.val():null)==this.VIDEO_UPLOAD_STATUS_IN_PROGRESS},isUploadToRemoteComplete:function(){var e;if(this.id)return e=a(this.inputsStringContent),((e=a("#attachments-"+this.id+"-"+this.VIMEO_UPLOAD_STATUS_FIELD_NAME,e))?e.val():null)==this.VIDEO_UPLOAD_STATUS_COMPLETE},checkStatusChangeUntilItsCompleted:function(){var t,n=this,a=n.id;d.has(a)||(t=setInterval(function(){n.getVimeoUploadStatus(a).then(function(e){e==n.VIDEO_UPLOAD_STATUS_COMPLETE&&(clearInterval(t),n.markAttachmentAsCompleted(),u.refreshMediaLibrary(),d.remove(a))})},1e4),d.add(a)),this.markAttachmentAsInProgress()},getVimeoUploadStatus:function(e){var t={};return t.attachment_id=e,window.wp.ajax.send(this.ACTION_GET_VIMEO_UPLOAD_STATUS,{data:t,type:"GET"})},isInitialized:function(){return this.getAttachmentNode().hasClass(n.ATTACHMENT_CHECKED_CLASS)},getAttachmentNode:function(){return a('li[data-id="'+this.id+'"]')},markAsInitialized:function(){this.getAttachmentNode().addClass(this.ATTACHMENT_CHECKED_CLASS)},markAttachmentAsCompleted:function(){var e=this.getAttachmentNode(),t=(e.removeClass(this.IN_PROGRESS_CLASS),e.find("."+this.ATTACHMENT_LABEL_CLASS));e.find("."+this.IN_PROGRESS_ICON_CLASS).remove(),t.remove(),e.addClass(this.GENERAL_ATTACHMENT_CLASS),e.addClass(this.COMPLETE_CLASS),a("."+this.COMPLETE_ICON_CLASS,e).length||(e.append('<span class="dashicons dashicons-yes-alt '+this.COMPLETE_ICON_CLASS+'"></span>'),e.append('<span class="'+this.ATTACHMENT_LABEL_CLASS+'">'+BPMJ_WPI_VIDEOS_I18N.upload_complete+"</span>"))},markAttachmentAsInProgress:function(){var e=this.getAttachmentNode();e.addClass(this.GENERAL_ATTACHMENT_CLASS),e.addClass(this.IN_PROGRESS_CLASS),a("."+this.IN_PROGRESS_ICON_CLASS,e).length||(e.append('<span class="dashicons dashicons-update-alt '+this.IN_PROGRESS_ICON_CLASS+'"></span>'),e.append('<span class="'+this.ATTACHMENT_LABEL_CLASS+'">'+BPMJ_WPI_VIDEOS_I18N.upload_in_progress+"</span>")),u.resetSelection()}},e={items:null,set:function(e){this.items=e.slice(0)},hasItems:function(){return this.items&&0<this.items.length},get:function(){return this.items}},c={init:function(){this.checkStatusPeriodically()},checkStatusPeriodically:function(){u.hasAttachments()&&e.set(u.getAttachmentsModels()),e.get().forEach(function(e){var t;e.attributes.compat&&(t=e.id,e=e.attributes.compat.item,n.setId(t),n.isInitialized()||(n.setInputsStringContent(e),n.markAsInitialized(),n.isOnVimeo()&&n.isUploadToRemoteInProgress()&&n.checkStatusChangeUntilItsCompleted(),n.isOnVimeo()&&n.isUploadToRemoteComplete()&&n.markAttachmentAsCompleted()))})}},t={isMediaTextBlock:function(e){return e.dataset.type&&"core/media-text"==e.dataset.type},removeUnwantedElements:function(e){var t=this.getBlockInner(e),e=a(e).find(".components-form-file-upload");t&&o.registerElementToHideIfUploadActive(e),i()||o.hideElementsThatShouldNotBeVisible()},appendToggle:function(e){e=this.getBlockInner(e);e&&o.checkStatusAndRender(e)},getBlockInner:function(e){return a(e).find(".wp-block-media-text .components-placeholder")}},r={isVideoBlock:function(e){return e.dataset&e.dataset.type&&"core/video"==e.dataset.type},appendToggle:function(e){e=this.getVideoBlockInner(e);e&&o.checkStatusAndRender(e)},removeUnwantedElements:function(e){var t=this.getVideoBlockInner(e),n=a(e).find(".components-form-file-upload"),e=a(e).find(".block-editor-media-placeholder__url-input-container");t&&(o.registerElementToHideIfUploadActive(n),o.registerElementToHideIfUploadActive(e)),i()||o.hideElementsThatShouldNotBeVisible()},getVideoBlockInner:function(e){return a(e).find(".wp-block-video .components-placeholder__instructions")}},l=function(e){var t=s.getInnerElement();0<t.length&&t.each(function(){o.checkStatusAndRender(a(this))})},u={hasAttachments:function(){return this.getAttachmentsCount()&&0<this.getAttachmentsCount()},getAttachmentsCount:function(){return wp.media.model.Attachments.all.length},getAttachmentsModels:function(){return wp.media.model.Attachments.all.models},getSelectionObject:function(){return wp.media.frame.state().get("selection")},resetSelection:function(){this.getSelectionObject().reset()},refreshMediaLibrary:function(){wp.media.frame.content.get().collection.props.set({ignore:+new Date})}},p=function(e){return!!e.dataset.id},m={MEDIA_FRAME_CONTENT_CLASS:"media-frame-content",attachmentsCount:0,init:function(){var t=0,n=this;a("."+n.MEDIA_FRAME_CONTENT_CLASS).on("DOMNodeInserted",function(e){n.attachmentsCount=u.hasAttachments()?u.getAttachmentsCount():n.attachmentsCount,n.attachmentsCount&&p(e.target)&&((t+=1)>=n.attachmentsCount&&c.init(),n.someUninitializedAttachmentsLeft())&&c.init()})},someUninitializedAttachmentsLeft:function(){return 0<a(".attachment:not(."+n.ATTACHMENT_CHECKED_CLASS+")").length}};let _=function(){try{a("body.post-type-attachment, body.post-type-page, body.post-type-courses").append(BPMJ_WPI_MEDIA_I18N.media_limit_popup_html)}catch(e){}},h=function(){try{a("body.post-type-attachment, body.post-type-page, body.post-type-courses").append(BPMJ_WPI_MEDIA_VIDEO_FORMAT_BLOCKER_I18N.media_video_format_blocker_popup_html)}catch(e){}};a(document).ready(function(){i()&&s.init(),m.init(),a(document).on("DOMNodeInserted",".wp-admin",function(e){if(i()){if(r.isVideoBlock(e.target)&&(r.appendToggle(e.target),r.removeUnwantedElements(e.target)),t.isMediaTextBlock(e.target)&&(t.appendToggle(e.target),t.removeUnwantedElements(e.target)),!e.target.classList.contains("browser"))return;l(e.target)}else r.isVideoBlock(e.target)&&r.removeUnwantedElements(e.target),t.isMediaTextBlock(e.target)&&t.removeUnwantedElements(e.target);e.target.classList.contains("browser")&&m.init()}),wp.Uploader.errors.on("add",function(e){var e=e.attributes.message??"",t=bpmj_eddcm.media_limit_checker_popup_message,n=bpmj_eddcm.media_video_format_blocker_error;e!==t&&e!==n||((t=a(".wpi-popup")).css("z-index","999999"),t.trigger("open"),a(".media-sidebar").remove())})}),_(),h()}),jQuery(document).ready(function(e){"use strict";({init:function(){this.callApiOnDismiss()},callApiOnDismiss:function(){e(".bpmj-wpi-notice").on("click",e(".notice-dismiss"),function(){window.wp.ajax.send("wpi_notices_dismiss",{data:{id:e(this).attr("data-id")}})})}}).init()}),jQuery(document).ready(function(t){if(t(".wpi-stats").length&&t.ajax({type:"GET",data:{action:"edd_load_dashboard_widget"},url:ajaxurl,success:function(e){t(".wpi-stats__content").html(e)}}),t("[data-load-with-ajax='bpmj_wpi_changelog']").length){if("undefined"==typeof bpmj_changelog)return!1;t.ajax({type:"GET",data:{action:"bpmj_get_changelog",security:bpmj_changelog&&bpmj_changelog.security?bpmj_changelog.security:null},url:ajaxurl,success:function(e){t("[data-load-with-ajax='bpmj_wpi_changelog']").html(e.data)}})}}),jQuery(document).ready(function(e){"use strict";"undefined"!=typeof disable_profile_inputs&&1==disable_profile_inputs.value&&(e("#your-profile .form-table :input, #your-profile .submit :input").prop("disabled",!0),e("tr#password, tr.pw-weak").hide())}),jQuery(document).ready(function(a){a('button.wpi-button[data-action="open_popup"]').on("click",function(){var e=a(this).data("popup-id"),e=a("#"+e);0!==e.length&&e.trigger("open")});var e=a(".wpi-popup");e.on("open",function(){var e,t=a(this),n=(t.find(".wpi-popup__content").html(t.data("loading")),t.show(),t.addClass("open"),t.data("timeout"));n&&setTimeout(function(){a(".wpi-popup.open").trigger("close")},n),"ajax-popup"===t.data("type")&&(n={action:t.data("action")},e=t.data("params"),a.ajax({type:"GET",data:a.extend({},n,e),url:ajaxurl,success:function(e){t.find(".wpi-popup__content").html(e.data),t.trigger("ajax-content-loaded")}}))}),e.on("close",function(){var e=a(this);e.hide(),e.removeClass("open"),e.removeClass("ajax-content-loaded")}),e.on("ajax-content-loaded",function(){a(this).addClass("ajax-content-loaded")}),e.on("click","[data-close-popup-on-click]",function(){a(".wpi-popup.open").trigger("close")}),a(".wpi-popup__back_overlay").on("click",function(){a(".wpi-popup.open").trigger("close")}),a(document).keyup(function(e){"Escape"===e.key&&a(".wpi-popup.open").trigger("close")}),e.on("click","[data-loading]",function(){a(this).html(a(this).data("loading"))})}),jQuery(document).ready(function(a){window.bind_template_group_setting=function(){var e=a(".wpi-popup");function t(){a(".wpi-select.font_select").select2({ajax:{url:bpmj_eddcm.ajax,dataType:"json",delay:250,data:function(e){return{action:a(this).data("get-fonts-ajax-action"),_ajax_nonce:a(this).data("nonce-field"),term:e.term}},minimumInputLength:2,cache:!0,processResults:function(e){return{results:e.data}}}})}e.on("click","button.template-group-settings-cancel-button",function(){var e=a(this).closest(".wpi-popup");0!==e.length&&e.remove()}),e.on("click","button.template-group-settings-save-button",function(){var e=a(this).data("form-id");e&&a("#"+e).trigger("submit")}),e.on("submit",".wpi_group_settings_form",function(e){e.preventDefault();var t=a(this),n=t.closest(".wpi-popup").find("button.template-group-settings-save-button"),e=n.html();n.data("loading")&&n.html(n.data("loading")),t.get(0).reportValidity()?a.ajax({type:"POST",data:{action:"bpmj_save_template_group_settings",_ajax_nonce:t.find("#_wpnonce").val(),data:t.getFormData()},url:ajaxurl,success:function(e){t.closest(".wpi-popup").remove(),window.snackbar.show(n.data("success"))}}):n.html(e)});e=a(".group-settings-popup");t(),e.on("ajax-content-loaded",function(){t()}),e.closest(".wpi-popup").addClass("templates-settings"),e.on("click",".wpi-browse-media-library-button",function(e){e.preventDefault();var t=a(this),n=wp.media.frames.file_frame=wp.media({title:t.data("uploader_title"),button:{text:t.data("uploader_button_text")},multiple:!1});n.on("select",function(){var e=n.state().get("selection").first().toJSON();t.prev(t.data("input-iname")).val(e.url)}),n.open()})}}),jQuery(document).ready(function(i){var e=i(".enable-new-templates-system"),t=i(".disable-new-templates-system"),n=i(".disable-new-templates-system-dev"),a=i(".hide-new-templates-info"),o=i(".new-templates-enabled-info");function s(e){"enable"!==e&&"disable"!==e&&"disable_as_dev"!==e||d("admin/templates_system/"+e+"_new_templates_system",!0)}function d(e,t,n){var a={action:"wpi_handler"};a[bpmj_eddcm.nonce_name]=bpmj_eddcm.nonce_value,i.ajax({type:"POST",data:a,dataType:"json",url:bpmj_eddcm.ajax+"?wpi_route="+e,success:function(){t&&window.location.reload(),n&&n()}})}e.on("click",function(){var e=i(this).data("loading");i(this).text(e),s("enable")}),t.on("click",function(){var e=i(this).data("loading");i(this).text(e),s("disable")}),n.on("click",function(){var e=i(this).data("loading");i(this).text(e),s("disable_as_dev")}),a.on("click",function(){var e=i(this).data("loading");i(this).text(e),d("admin/templates_system/hide_new_templates_info",!1,function(){o.slideUp(),window.snackbar.show(o.data("message-your-are-redy-to-go"))})})}),function(a){"use strict";a(document).on("click",'button[data-action="delete-course"],button[data-action="delete-bundle"]',function(e){e.preventDefault();var t=a(this),e=a(this).data("action").replace("delete-",""),n=bpmj_eddcm.creator["delete_confirm_"+e];confirm(n)&&((n={action:"wpi_handler",id:t.data("id")})[bpmj_eddcm.nonce_name]=bpmj_eddcm.nonce_value,a.ajax({type:"POST",data:n,dataType:"json",url:bpmj_eddcm.ajax+"?wpi_route=admin/courses/delete_"+e,beforeSend:function(){t.html('<span class="dashicons dashicons-update"></span>')},success:function(e){t.parent().parent().fadeOut("slow",function(){a(this).remove(),a(".edd-courses-manager-dashboard table tbody tr").length<1&&location.reload()})},error:function(e,t,n){e.responseJSON.hasOwnProperty("show_message")&&e.responseJSON.show_message&&(alert(e.responseJSON.error_message),location.reload()),console.log("Error: "+e.responseJSON.error_message)}}).fail(function(e){window.console&&window.console.log&&console.log(e)}))}),a(document).on("click",'button[data-action="toggle-add-to-cart-link"]',function(){var e=a(this).data("addToCartPopupHtml"),t=a(this).data("courseTitle");bpmj_eddcm_open_modal("bpmj-eddcm-variable-prices-links-html",t,e,"",!0)}),a(document).on("click",'button[data-action="toggle-show-users-stats"]',function(){var e=a(this).data("showStatsPopupHtml"),t=a(this).data("courseTitle");bpmj_eddcm_open_modal("bpmj-eddcm-users-stats-html",t,e,"",!0),0!==a(this).data("fromajax")&&(t={action:"get_users_stats_for_course_lessons",course:a(this).data("course")},a.ajax({type:"POST",data:t,dataType:"html",url:bpmj_eddcm.ajax,success:function(e){a(".bpmj-eddcm-modal").find(".panel-body").html(e)}}))}),a(document).on("click",'button[data-action="load-users-stats"]',function(){var t=a(this),e={action:"get_users_stats_for_course",course:a(this).data("course")};t.find(".dashicons").remove(),t.html('<span class="dashicons dashicons-update"></span>'),a.ajax({type:"POST",data:e,dataType:"html",url:bpmj_eddcm.ajax,success:function(e){t.after(e).remove()}})}),a(document).on("click",".admin-courses-users-stats-toggle",function(e){e.preventDefault(),a(this).closest("tr").next(".course-stats-users").toggle()}),a(document).on("click","._payu_api_type input",function(e){"rest"===a(this).val()?a("._payu_return_url_failure, ._payu_return_url_success, ._payu_return_url_reports").hide():a("._payu_return_url_failure, ._payu_return_url_success, ._payu_return_url_reports").show()}),a(document).on("change",".input-group-addon input",function(e){e.preventDefault(),a(this).parent().parent().find(".input-group").prop("disabled",function(e,t){return!t})}),a(document).ready(function(e){e(document).on("click",".select-on-focus",function(){e(this).select()}),e(document).on("click",".bpmj-eddcm-add-to-cart-link-copy",function(){e(this).parent().find(".select-on-focus").select(),document.execCommand("copy",!1,"")&&(e(".bpmj-eddcm-add-to-cart-link-copied").removeClass("copied"),e(this).parent().find(".bpmj-eddcm-add-to-cart-link-copied").addClass("copied"))})}),a(document).on("click",'[name^="disable_course_sales"]',function(e){var t={action:"wpi_handler",id:a(this).data("courseId"),value:"on"===a(this).val()?"on":"off"};t[bpmj_eddcm.nonce_name]=bpmj_eddcm.nonce_value,a.ajax({type:"POST",data:t,dataType:"json",url:bpmj_eddcm.ajax+"?wpi_route=admin/courses/disable_sales",error:function(e,t,n){console.log("Error: "+e.responseJSON.error_message)}})}),a(document).on("keyup",'input[name="bpmj_edd_invoice_nip"]',e=>{let n=a(e.target).val();a('input[name="bpmj_edd_invoice_nip"]').each((e,t)=>{a(t).val(n)})})}(jQuery),jQuery(document).ready(function(t){function e(e){e=t(e);e.prop("checked")?t("#"+e.data("pair")).prop("disabled",!0):t("#"+e.data("pair")).prop("disabled",!1)}t(".bpmj_eddcm_tags").tagsInput({height:"65px",width:"auto",interactive:!0,defaultText:bpmj_eddcm.add_tag,removeWithBackspace:!0,placeholderColor:"#666666"}),t(".wp-color-picker-field").wpColorPicker(),bpmj_eddcm_enable_datepickers(),t(document).on("change",".checkbox-double",function(){e(this)}),t(".checkbox-double").each(function(){e(this)}),t("._payu_api_type input:checked").click(),t("._payu_return_url_failure input, ._payu_return_url_success input, ._payu_return_url_reports input").focusin(function(){t(this).get(0).select()})}),function(n){"use strict";let t={init:function(){t.listeners.variablePricesSwitch(),t.listeners.variablePricesOpenModal(),t.listeners.variablePricesSave(),t.listeners.variablePricesValidator()},listeners:{variablePricesSwitch:function(){n(document).on("click","#eddcm-variable-pricing",function(e){n(this).is(":checked")?(n(".bpmj-eddcm-single-price").hide(),n(".bpmj-eddcm-variable-prices").show()):(n(".bpmj-eddcm-single-price").show(),n(".bpmj-eddcm-variable-prices").hide())})},variablePricesOpenModal:function(){n(document).on("click",'[data-action="edit-product-variable-prices"]',function(e){e.preventDefault(),t.functions.modal("bpmj-eddcm-variable-prices-modal",bpmj_eddcm.courses.variable_prices_popup.title,bpmj_eddcm.courses.variable_prices_popup.placeholder,"",!0,"ultra-wide");e={action:"wpi_handler",post_id:n(this).data("postId")};e[bpmj_eddcm.nonce_name]=bpmj_eddcm.nonce_value,n.ajax({type:"POST",data:e,dataType:"json",url:bpmj_eddcm.ajax+"?wpi_route=admin/edit_product/get_variable_prices",success:function(e){var t=n("#bpmj-eddcm-variable-prices-placeholder");t.html(e.html),t.find("#edd_variable_price_fields").show(),t.find(".edd_repeatable_table tbody").sortable({handle:".edd_draghandle",items:".edd_repeatable_row",opacity:.6,cursor:"move",axis:"y",update:function(){var e=0;n(this).find("tr").each(function(){n(this).find("input.edd_repeatable_index").each(function(){n(this).val(e)}),e++})}})},error:function(e,t,n){console.log("Error: "+e.responseJSON.error_message)}}).fail(function(e){window.console&&window.console.log&&console.log(e)})})},variablePricesSave:function(){n(document).on("click",'[data-action="save-product-variable-prices"]',function(e){e.preventDefault(),"1"!==n(this).data("saving")&&(n(this).data("saving","1"),(e=n("#bpmj-eddcm-variable-prices-placeholder").find(":input").serializeObject()).variable_sale_price_from_date=n("#variable_sale_price_from_date").val(),e.variable_sale_price_from_hour=n("#variable_sale_price_from_hour").val(),e.action="wpi_handler",e[bpmj_eddcm.nonce_name]=bpmj_eddcm.nonce_value,n(this).html('<span class="dashicons dashicons-update"></span>'),n.ajax({type:"POST",data:e,dataType:"json",url:bpmj_eddcm.ajax+"?wpi_route=admin/edit_product/save_variable_prices",success:function(e){e&&(n("#bpmj-eddcm-variable-prices").html(e.variable_prices_summary_html),e.no_variable_prices||(n("#sales_disabled").prop("disabled",!1),n("#sales_disabled_notice").text("")),window.snackbar.show(e.message)),n('[data-action="close-modal"]').trigger("click")},error:function(e,t,n){console.log("Error: "+e.responseJSON.error_message)}}).fail(function(e){window.console&&window.console.log&&console.log(e)}))})},variablePricesValidator:function(){n(document).on("keyup change",".bpmj-eddpc-access-time input[type=number]",function(){var e=n(this).val().replace(/[^0-9]/g,"");n(this).val(e)}),n(document).on("keyup change",".edd-sale-price-field, .edd-price-field",function(){var e=n(this).val().replace(/[^0-9\.,]/g,"");n(this).val(e)})}},functions:{modal:bpmj_eddcm_open_modal}};n(document).ready(function(){t.init()})}(jQuery);var addButtonsToWpiPopup=function(a,e,i){Array.isArray(e)&&(0===e.length?a.find(".wpi-popup__content > .wpi-popup__footer").remove():jQuery.each(e,function(e,t){var t=jQuery.extend({type:"default",text:"",action:function(e){i.close()}},t),n="default"===t.type?"secondary":"main",e="wpi-popup-buton-"+e;a.find(".wpi-popup__footer").append(jQuery('<button class="wpi-button wpi-button--'+n+" "+e+'">'+t.text+"</button>")),a.find("."+e).on("click",t.action)}))},createWpiPopup=function(){var e=jQuery("#wpi-popup").clone();return e.removeAttr("id"),e.appendTo("body"),e.css("display","flex"),e};window.wpi_popup={create:function(){var n=null;return{open:function(e,t){(n=createWpiPopup()).find(".wpi-popup__core").html(jQuery('<p class="wpi-popup__core-message">'+e+"</p>")),addButtonsToWpiPopup(n,t,this)},open_with_ajax:function(e,t,n,a,i){this.open_with_loading();var o=this;jQuery.ajax({type:n,data:t,url:e,success:function(e){var t=e;void 0!==i&&(t=e[i]),o.end_loading_with_success(t,a)},error:function(e,t,n){o.end_loading_with_error()}})},open_with_loading:function(e){(n=createWpiPopup()).addClass("loading"),n.find(".wpi-popup__core").html(jQuery('<p class="wpi-popup__core-message">'+e+"</p>"))},end_loading_with_success:function(e,t){n.removeClass("loading"),n.find(".wpi-popup__core").html(jQuery(e)),addButtonsToWpiPopup(n,t,this)},end_loading_with_error:function(){n.removeClass("loading"),n.find(".wpi-popup__core").html(jQuery('<p class="wpi-popup__core-message">Coś poszło nie tak. Skontakuj się z administratorem!!...</p>')),addButtonsToWpiPopup(n,[{text:"Ok!!"}],this)},close:function(e){n.css("display","none"),!1!==e&&this.remove()},remove:function(){n.remove()}}}},function(_,h,e,a){"use strict";_.CSFRAMEWORK=_.CSFRAMEWORK||{};var f=_("body"),t=f.hasClass("rtl");_.fn.CSFRAMEWORK_TAB_NAVIGATION=function(){return this.each(function(){var t=_(this),a=t.find(".cs-nav"),i=t.find(".cs-reset"),e=t.find(".cs-expand-all");a.find("ul:first a").on("click",function(e){e.preventDefault();var e=_(this),t=e.next(),n=e.data("section");t.is("ul")?(t.slideToggle("fast"),e.closest("li").toggleClass("cs-tab-active")):(_("#cs-tab-"+n).show().siblings().hide(),a.find("a").removeClass("cs-section-active"),e.addClass("cs-section-active"),i.val(n))}),e.on("click",function(e){e.preventDefault(),t.find(".cs-body").toggleClass("cs-show-all"),_(this).find(".fa").toggleClass("fa-eye-slash").toggleClass("fa-eye")})})},_.CSFRAMEWORK.DEPENDENCY=function(e,t){var n=this;n.$el=_(e),n.el=e,n.init=function(){n.ruleset=_.deps.createRuleset();t!==a?n.depSub():n.depRoot(),_.deps.enable(n.$el,n.ruleset,{show:function(e){e.removeClass("hidden")},hide:function(e){e.addClass("hidden")},log:!1,checkTargets:!1})},n.depRoot=function(){n.$el.each(function(){_(this).find("[data-controller]").each(function(){var a=_(this),e=a.data("controller").split("|"),i=a.data("condition").split("|"),o=a.data("value").toString().split("|"),s=n.ruleset;_.each(e,function(e,t){var n=o[e]||"",e=i[e]||i[0];(s=s.createRule('[data-depend-id="'+t+'"]',e,n)).include(a)})})})},n.depSub=function(){n.$el.each(function(){_(this).find("[data-sub-controller]").each(function(){var a=_(this),e=a.data("sub-controller").split("|"),i=a.data("sub-condition").split("|"),o=a.data("sub-value").toString().split("|"),s=n.ruleset;_.each(e,function(e,t){var n=o[e]||"",e=i[e]||i[0];(s=s.createRule('[data-sub-depend-id="'+t+'"]',e,n)).include(a)})})})},n.init()},_.fn.CSFRAMEWORK_DEPENDENCY=function(e){return this.each(function(){new _.CSFRAMEWORK.DEPENDENCY(this,e)})},_.fn.CSFRAMEWORK_CHOSEN=function(){return this.each(function(){_(this).chosen({allow_single_deselect:!0,disable_search_threshold:15,width:parseFloat(_(this).actual("width")+25)+"px"})})},_.fn.CSFRAMEWORK_IMAGE_SELECTOR=function(){return this.each(function(){_(this).find("label").on("click",function(){_(this).siblings().find("input").prop("checked",!1)})})},_.fn.CSFRAMEWORK_SORTER=function(){return this.each(function(){var e=_(this),t=e.find(".cs-enabled"),e=e.find(".cs-disabled");t.sortable({connectWith:e,placeholder:"ui-sortable-placeholder",update:function(e,t){var n=t.item.find("input");t.item.parent().hasClass("cs-enabled")?n.attr("name",n.attr("name").replace("disabled","enabled")):n.attr("name",n.attr("name").replace("enabled","disabled"))}}),e.sortable({connectWith:t,placeholder:"ui-sortable-placeholder"})})},_.fn.CSFRAMEWORK_UPLOADER=function(){return this.each(function(){var t,e=_(this),n=e.find(".cs-add"),a=e.find("input");n.on("click",function(e){e.preventDefault(),"undefined"!=typeof wp&&wp.media&&wp.media.gallery&&(t||(t=wp.media({title:n.data("frame-title"),library:{type:n.data("upload-type")},button:{text:n.data("insert-title")}})).on("select",function(){var e=t.state().get("selection").first();a.val(e.attributes.url).trigger("change")}),t.open())})})},_.fn.CSFRAMEWORK_IMAGE_UPLOADER=function(){return this.each(function(){var n,e=_(this),t=e.find(".cs-add"),a=e.find(".cs-image-preview"),i=e.find(".cs-remove"),o=e.find("input"),s=e.find("img");t.on("click",function(e){e.preventDefault(),"undefined"!=typeof wp&&wp.media&&wp.media.gallery&&(n||(n=wp.media({library:{type:"image"}})).on("select",function(){var e=n.state().get("selection").first().attributes,t=(void 0!==e.sizes&&void 0!==e.sizes.thumbnail?e.sizes.thumbnail:e).url;a.removeClass("hidden"),s.attr("src",t),o.val(e.id).trigger("change")}),n.open())}),i.on("click",function(e){e.preventDefault(),o.val("").trigger("change"),a.addClass("hidden")})})},_.fn.CSFRAMEWORK_IMAGE_GALLERY=function(){return this.each(function(){var i,e=_(this),o=e.find(".cs-edit"),s=e.find(".cs-remove"),d=e.find("ul"),c=e.find("input");e.find("img");e.on("click",".cs-add, .cs-edit",function(e){var t=_(this),n=c.val(),t=t.hasClass("cs-edit")?"edit":"add",a="add"!=t||n.length?"gallery-edit":"gallery";e.preventDefault(),"undefined"!=typeof wp&&wp.media&&wp.media.gallery&&("gallery"==a?(i=wp.media({library:{type:"image"},frame:"post",state:"gallery",multiple:!0})).open():(i=wp.media.gallery.edit('[gallery ids="'+n+'"]'),"add"==t&&i.setState("gallery-library")),i.on("update",function(e){d.empty();e=e.models.map(function(e){var e=e.toJSON(),t=(void 0!==e.sizes.thumbnail?e.sizes.thumbnail:e).url;return d.append('<li><img src="'+t+'"></li>'),e.id});c.val(e.join(",")).trigger("change"),s.removeClass("hidden"),o.removeClass("hidden")}))}),s.on("click",function(e){e.preventDefault(),d.empty(),c.val("").trigger("change"),s.addClass("hidden"),o.addClass("hidden")})})},_.fn.CSFRAMEWORK_TYPOGRAPHY=function(){return this.each(function(){var e=_(this),t=e.find(".cs-typo-family"),n=e.find(".cs-typo-variant"),a=e.find(".cs-typo-font");t.on("change",function(){var e=_(this),t=e.find(":selected").data("type")||"custom",e=e.find(":selected").data("variants");n.length&&(n.find("option").remove(),_.each(e.split("|"),function(e,t){n.append('<option value="'+t+'">'+t+"</option>")}),n.find('option[value="regular"]').attr("selected","selected").trigger("chosen:updated")),a.val(t)})})},_.fn.CSFRAMEWORK_GROUP=function(){return this.each(function(){var e=_(this),n=e.find(".cs-groups"),a=e.find(".cs-accordion"),t=e.find(".cs-group:first").clone();a.length&&a.accordion({header:".cs-group-title",collapsible:!0,active:!1,animate:250,heightStyle:"content",icons:{header:"dashicons dashicons-arrow-right",activeHeader:"dashicons dashicons-arrow-down"},beforeActivate:function(e,t){_(t.newPanel).CSFRAMEWORK_DEPENDENCY("sub")}}),n.sortable({axis:"y",handle:".cs-group-title",helper:"original",cursor:"move",placeholder:"widget-placeholder",start:function(e,t){t=t.item.children(".cs-group-content");"block"===t.css("display")&&(t.hide(),n.sortable("refreshPositions"))},stop:function(e,t){t.item.children(".cs-group-title").triggerHandler("focusout"),a.accordion({active:!1})}});_(".cs-add-group",e).on("click",function(e){e.preventDefault(),t.find("input, select, textarea").each(function(){this.name=this.name.replace(/\[(\d+)\]/,function(e,t){return"["+(parseInt(t,10)+1)+"]"})});e=t.clone().removeClass("hidden");n.append(e),a.length&&(n.accordion("refresh"),n.accordion({active:e.index()})),n.find("input, select, textarea").each(function(){this.name=this.name.replace("[_nonce]","")}),e.CSFRAMEWORK_DEPENDENCY("sub"),e.CSFRAMEWORK_RELOAD_PLUGINS(),0}),n.on("click",".cs-remove-group",function(e){e.preventDefault(),_(this).closest(".cs-group").remove()})})},_.fn.CSFRAMEWORK_CONFIRM=function(){return this.each(function(){_(this).on("click",function(e){confirm("Are you sure?")||e.preventDefault()})})},_.fn.CSFRAMEWORK_SAVE=function(){return this.each(function(){var n=_(this),a=n.data("save"),i=n.val(),o=_("#cs-save-ajax");_(e).on("keydown",function(e){(e.ctrlKey||e.metaKey)&&"s"===String.fromCharCode(e.which).toLowerCase()&&(e.preventDefault(),n.trigger("click"))}),n.on("click",function(e){var t;o.length?("object"==typeof tinyMCE&&tinyMCE.triggerSave(),n.prop("disabled",!0).attr("value",a),t=_("#csframework_form").serialize(),_.post("options.php",t).error(function(){alert("Error, Please try again.")}).success(function(){n.prop("disabled",!1).attr("value",i),o.hide().fadeIn().delay(250).fadeOut()}),e.preventDefault()):n.addClass("disabled").attr("value",a)})})},_.fn.CSFRAMEWORK_TAXONOMY=function(){return this.each(function(){var e,t,n,a,i,o=_(this).parent();"addtag"===o.attr("id")&&(e=o.find("#submit"),o.find("#tag-name"),t=o.find(".cs-framework"),n=t.find(".cs-element").clone(),a=_("#the-list"),i=!1,e.on("click",function(){i||a.on("DOMNodeInserted",function(){i&&(t.empty(),t.html(n),n=n.clone(),t.CSFRAMEWORK_RELOAD_PLUGINS(),t.CSFRAMEWORK_DEPENDENCY(),i=!1)}),i=!0}))})},void 0!==_.widget&&void 0!==_.ui&&void 0!==_.ui.dialog&&_.widget("ui.dialog",_.ui.dialog,{_createOverlay:function(){this._super(),this.options.modal&&this._on(this.overlay,{click:"close"})}}),_.CSFRAMEWORK.ICONS_MANAGER=function(){var i,o=!0;this.init=function(){f.on("click",".cs-icon-add",function(e){e.preventDefault();var e=_(this),n=_("#cs-icon-dialog"),a=n.find(".cs-dialog-load"),t=(n.find(".cs-dialog-select"),n.find(".cs-dialog-insert"),n.find(".cs-icon-search"));i=e.closest(".cs-icon-select"),n.dialog({width:850,height:700,modal:!0,resizable:!1,closeOnEscape:!0,position:{my:"center",at:"center",of:h},open:function(){f.addClass("cs-icon-scrolling"),_(".ui-dialog-titlebar-close").addClass("ui-button"),_(h).on("resize",function(){var e=_(h).height(),t=Math.floor(e-237),e=Math.floor(e-125);n.dialog("option","height",e).parent().css("max-height",e),n.css("overflow","auto"),a.css("height",t)}).resize()},close:function(){f.removeClass("cs-icon-scrolling")}}),o&&_.ajax({type:"POST",url:ajaxurl,data:{action:"cs-get-icons"},success:function(e){a.html(e),o=!1,a.on("click","a",function(e){e.preventDefault();e=_(this).data("cs-icon");i.find("i").removeAttr("class").addClass(e),i.find("input").val(e).trigger("change"),i.find(".cs-icon-preview").removeClass("hidden"),i.find(".cs-icon-remove").removeClass("hidden"),n.dialog("close")}),t.keyup(function(){var t=_(this).val();a.find("a").each(function(){var e=_(this);e.data("cs-icon").search(new RegExp(t,"i"))<0?e.hide():e.show()})}),a.find(".cs-icon-tooltip").cstooltip({html:!0,placement:"top",container:"body"})}})}),f.on("click",".cs-icon-remove",function(e){e.preventDefault();var e=_(this),t=e.closest(".cs-icon-select");t.find(".cs-icon-preview").addClass("hidden"),t.find("input").val("").trigger("change"),e.addClass("hidden")})},this.init()},_.CSFRAMEWORK.SHORTCODE_MANAGER=function(){var p,m=this;m.init=function(){var o,s,n,d,c,r=_("#cs-shortcode-dialog"),t=r.find(".cs-dialog-insert"),a=r.find(".cs-dialog-load"),i=r.find(".cs-dialog-select"),l=!1,u=(f.on("click",".cs-shortcode",function(e){e.preventDefault(),i.CSFRAMEWORK_CHOSEN(),d=_(this),l=d.hasClass("cs-shortcode-textarea"),c=d.data("editor-id"),r.dialog({width:850,height:700,modal:!0,resizable:!1,closeOnEscape:!0,position:{my:"center",at:"center",of:h},open:function(){f.addClass("cs-shortcode-scrolling"),_(".ui-dialog-titlebar-close").addClass("ui-button"),_(h).on("resize",function(){var e=_(h).height(),t=Math.floor(e-281),e=Math.floor(e-125);r.dialog("option","height",e).parent().css("max-height",e),r.css("overflow","auto"),a.css("height",t)}).resize()},close:function(){l=!1,f.removeClass("cs-shortcode-scrolling")}})}),i.on("change",function(){var e=_(this);o=e.val(),s=e.find(":selected").data("view"),o.length?_.ajax({type:"POST",url:ajaxurl,data:{action:"cs-get-shortcode",shortcode:o},success:function(e){a.html(e),t.parent().removeClass("hidden"),n=_(".cs-shortcode-clone",r).clone(),a.CSFRAMEWORK_DEPENDENCY(),a.CSFRAMEWORK_DEPENDENCY("sub"),a.CSFRAMEWORK_RELOAD_PLUGINS()}}):(t.parent().addClass("hidden"),a.html(""))}),t.on("click",function(e){e.preventDefault();var a="",t="data-atts",i="data-clone-atts",n="data-clone-id";switch(s){case"contents":_("["+t+"]",".cs-dialog-load").each(function(){var e=_(this),t=e.data("atts");a=(a+="["+t+"]")+e.val()+"[/"+t+"]"});break;case"clone":a+="["+o,_("["+t+"]",".cs-dialog-load .cs-element:not(.hidden)").each(function(){var e=_(this),t=e.data("atts");a+=m.validate_atts(t,e)}),a+="]",_("["+n+"]",".cs-dialog-load").each(function(){var e=_(this),n=e.data("clone-id");a+="["+n,_("["+i+"]",e.find(".cs-element").not(".hidden")).each(function(){var e=_(this),t=e.data("clone-atts");"content"!==t?a+=m.validate_atts(t,e):"content"===t&&(a=(a=(a+="]")+e.val())+"[/"+n)}),a+="]"}),a+="[/"+o+"]";break;case"clone_duplicate":_("["+n+"]",".cs-dialog-load").each(function(){var e=_(this),n=e.data("clone-id");a+="["+n,_("["+i+"]",e.find(".cs-element").not(".hidden")).each(function(){var e=_(this),t=e.data("clone-atts");"content"!==t?a+=m.validate_atts(t,e):"content"===t&&(a=(a=(a+="]")+e.val())+"[/"+n)}),a+="]"});break;default:a+="["+o,_("["+t+"]",".cs-dialog-load .cs-element:not(.hidden)").each(function(){var e=_(this),t=e.data("atts");"content"!==t?a+=m.validate_atts(t,e):"content"===t&&(a=(a=(a+="]")+e.val())+"[/"+o)}),a+="]"}l?(e=d.next()).val(m.insertAtChars(e,a)).trigger("change"):m.send_to_editor(a,c),p=null,r.dialog("close")}),0);r.on("click","#shortcode-clone-button",function(e){e.preventDefault();var t=n.clone().hide();t.find("input:radio").attr("name","_nonce_"+u),_(".cs-shortcode-clone:last").after(t),t.slideDown(100),t.find(".cs-remove-clone").show().on("click",function(e){t.slideUp(100,function(){t.remove()}),e.preventDefault()}),t.CSFRAMEWORK_DEPENDENCY("sub"),t.CSFRAMEWORK_RELOAD_PLUGINS(),u++})},m.validate_atts=function(e,t){var n;return(t.data("check")===a||p!==e)&&(p=e,!0!==t.closest(".pseudo-field").hasClass("hidden"))&&!0!==t.hasClass("pseudo")&&(n=!t.is(":checkbox")&&!t.is(":radio")||t.is(":checked")?t.val():"",null!==(n=t.data("check")!==a?t.closest(".cs-element").find("input:checked").map(function(){return _(this).val()}).get():n))&&n!==a&&""!==n&&0!==n.length?" "+e+'="'+n+'"':""},m.insertAtChars=function(e,t){e=void 0!==e[0].name?e[0]:e;return e.value.length&&void 0!==e.selectionStart?(e.focus(),e.value.substring(0,e.selectionStart)+t+e.value.substring(e.selectionEnd,e.value.length)):(e.focus(),t)},m.send_to_editor=function(e,t){var n;(n="undefined"!=typeof tinymce?tinymce.get(t):n)&&!n.isHidden()?n.execCommand("mceInsertContent",!1,e):(n=_("#"+t)).val(m.insertAtChars(n,e)).trigger("change")},m.init()},"function"==typeof Color&&(Color.fn.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var e=parseInt(this._color,10).toString(16);if(this.error)return"";if(e.length<6)for(var t=6-e.length-1;0<=t;t--)e="0"+e;return"#"+e}),_.CSFRAMEWORK.PARSE_COLOR_VALUE=function(e){var e=e.replace(/\s+/g,""),t=-1!==e.indexOf("rgba")?parseFloat(100*e.replace(/^.*,(.+)\)/,"$1")):100;return{value:e,alpha:t,rgba:t<100}},_.fn.CSFRAMEWORK_COLORPICKER=function(){return this.each(function(){var d,c=_(this);!1!==c.data("rgba")?(d=_.CSFRAMEWORK.PARSE_COLOR_VALUE(c.val()),c.wpColorPicker({clear:function(){c.trigger("keyup")},change:function(e,t){t=t.color.toString();c.closest(".wp-picker-container").find(".cs-alpha-slider-offset").css("background-color",t),c.val(t).trigger("change")},create:function(){var a=c.data("a8cIris"),t=c.closest(".wp-picker-container"),n=_('<div class="cs-alpha-wrap"><div class="cs-alpha-slider"></div><div class="cs-alpha-slider-offset"></div><div class="cs-alpha-text"></div></div>').appendTo(t.find(".wp-picker-holder")),i=n.find(".cs-alpha-slider"),o=n.find(".cs-alpha-text"),s=n.find(".cs-alpha-slider-offset");i.slider({slide:function(e,t){t=parseFloat(t.value/100);a._color._alpha=t,c.wpColorPicker("color",a._color.toString()),o.text(t<1?t:"")},create:function(){var e=parseFloat(d.alpha/100);o.text(e<1?e:""),s.css("background-color",d.value),t.on("click",".wp-picker-clear",function(){a._color._alpha=1,o.text("").trigger("change"),i.slider("option","value",100).trigger("slide")}),t.on("click",".wp-picker-default",function(){var e=_.CSFRAMEWORK.PARSE_COLOR_VALUE(c.data("default-color")),t=parseFloat(e.alpha/100),n=t<1?t:"";a._color._alpha=t,o.text(n),i.slider("option","value",e.alpha).trigger("slide")}),t.on("click",".wp-color-result",function(){n.toggle()}),f.on("click.wpcolorpicker",function(){n.hide()})},value:d.alpha,step:1,min:1,max:100})}})):c.wpColorPicker({clear:function(){c.trigger("keyup")},change:function(e,t){c.val(t.color.toString()).trigger("change")}})})},_.CSFRAMEWORK.WIDGET_RELOAD_PLUGINS=function(){_(e).on("widget-added widget-updated",function(e,t){t.CSFRAMEWORK_RELOAD_PLUGINS(),t.CSFRAMEWORK_DEPENDENCY()})},_.fn.CSFRAMEWORK_TOOLTIP=function(){return this.each(function(){var e=t?"right":"left";_(this).cstooltip({html:!0,placement:e,container:"body"})})},_.fn.CSFRAMEWORK_RELOAD_PLUGINS=function(){return this.each(function(){_(".chosen",this).CSFRAMEWORK_CHOSEN(),_(".cs-field-image-select",this).CSFRAMEWORK_IMAGE_SELECTOR(),_(".cs-field-image",this).CSFRAMEWORK_IMAGE_UPLOADER(),_(".cs-field-gallery",this).CSFRAMEWORK_IMAGE_GALLERY(),_(".cs-field-sorter",this).CSFRAMEWORK_SORTER(),_(".cs-field-upload",this).CSFRAMEWORK_UPLOADER(),_(".cs-field-typography",this).CSFRAMEWORK_TYPOGRAPHY(),_(".cs-field-color-picker",this).CSFRAMEWORK_COLORPICKER(),_(".cs-help",this).CSFRAMEWORK_TOOLTIP()})},_(e).ready(function(){_(".cs-framework").CSFRAMEWORK_TAB_NAVIGATION(),_(".cs-reset-confirm, .cs-import-backup").CSFRAMEWORK_CONFIRM(),_(".cs-content, .wp-customizer, .widget-content, .cs-taxonomy").CSFRAMEWORK_DEPENDENCY(),_(".cs-field-group").CSFRAMEWORK_GROUP(),_(".cs-save").CSFRAMEWORK_SAVE(),_(".cs-taxonomy").CSFRAMEWORK_TAXONOMY(),_(".cs-framework, #widgets-right").CSFRAMEWORK_RELOAD_PLUGINS(),_.CSFRAMEWORK.ICONS_MANAGER(),_.CSFRAMEWORK.SHORTCODE_MANAGER(),_.CSFRAMEWORK.WIDGET_RELOAD_PLUGINS()})}(jQuery,window,document);